<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Требования к разработке драйверов подключаемого оборудования. Версия 2.4 (Раздел обновлен!)</title><meta content="ru" http-equiv="Content-Language"><meta content="text/html; charset=windows-1251" http-equiv="Content-Type"><style>TH {
	FONT-SIZE: 80%
}
TD {
	FONT-SIZE: 80%
}
A:link {
	TEXT-DECORATION: none; COLOR: #cc0000
}
A:visited {
	TEXT-DECORATION: none; COLOR: #cc0000
}
A:hover {
	TEXT-DECORATION: underline
}
H1 {
	FONT-SIZE: 18pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold; COLOR: #003366; TEXT-ALIGN: left
}
H2 {
	FONT-SIZE: 14pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold; TEXT-ALIGN: left
}
H3 {
	FONT-SIZE: 12pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold; TEXT-ALIGN: left
}
.Programtext {
	FONT-SIZE: 10pt; FONT-FAMILY: Courier New; COLOR: #0000ff; PADDING-BOTTOM: 10px; PADDING-TOP: 10px; PADDING-LEFT: 10px; PADDING-RIGHT: 10px; BACKGROUND-COLOR: #f0f0f0
}
H4 {
	FONT-SIZE: 11.5pt; FONT-FAMILY: Arial, Tahoma; FONT-WEIGHT: bold; TEXT-ALIGN: left
}
H5 {
	FONT-SIZE: 10.5pt; FONT-FAMILY: Arial, Tahoma; TEXT-ALIGN: left; MARGIN-LEFT: 10pt
}
BODY {
	FONT-SIZE: 80%; FONT-FAMILY: Verdana
}
.withBorder {
	BORDER-TOP: #ffd700 1px solid; FONT-FAMILY: Verdana; BORDER-RIGHT: #ffd700 1px solid; TEXT-ALIGN: left
}
.withBorder TD {
	BORDER-BOTTOM: #ffd700 1px solid; BORDER-LEFT: #ffd700 1px solid
}
.withBorder TH {
	BORDER-BOTTOM: #ffd700 1px solid; BORDER-LEFT: #ffd700 1px solid; BACKGROUND-COLOR: #ffffee
}
UL.TOC LI {
	LIST-STYLE-TYPE: none
}
PRE.Query {
	FONT-SIZE: 10pt; FONT-FAMILY: Courier New; COLOR: #000080
}
PRE.xml {
	FONT-SIZE: 10pt; FONT-FAMILY: Courier New; COLOR: #000080
}
PRE.vbcode {
	FONT-SIZE: 10pt; FONT-FAMILY: Courier New; COLOR: #000080
}
PRE {
	FONT-SIZE: 10pt
}
.Marker {
	BACKGROUND-COLOR: #ffff00
}
.heading {
	BORDER-BOTTOM: #ffd700 1px solid; FONT-WEIGHT: bold; BORDER-LEFT: #ffd700 1px solid; BACKGROUND-COLOR: #ffffee
}
.tip {
	BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; WIDTH: 95%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px; PADDING-LEFT: 15px; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BACKGROUND-COLOR: #eeffee
}
.tip TD {
	BORDER-BOTTOM: #ffd700 1px solid; BORDER-LEFT: #ffd700 1px solid
}
.tip TH {
	BORDER-BOTTOM: #ffd700 1px solid; TEXT-ALIGN: center; BORDER-LEFT: #ffd700 1px solid
}
.tip TABLE {
	BORDER-TOP: #ffd700 1px solid; FONT-FAMILY: Verdana; BORDER-RIGHT: #ffd700 1px solid; TEXT-ALIGN: left
}
.important {
	BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; WIDTH: 95%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px; PADDING-LEFT: 15px; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BACKGROUND-COLOR: #ffeeee
}
.important TD {
	BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; WIDTH: 95%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px; PADDING-LEFT: 15px; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BACKGROUND-COLOR: #ffeeee
}
.note {
	BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; WIDTH: 95%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px; PADDING-LEFT: 15px; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BACKGROUND-COLOR: #eeeeff
}
.note TD {
	BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; WIDTH: 95%; BORDER-BOTTOM-WIDTH: 0px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px; PADDING-LEFT: 15px; PADDING-RIGHT: 15px; BORDER-TOP-WIDTH: 0px; BACKGROUND-COLOR: #eeeeff
}
.k {
	COLOR: red
}
.c {
	COLOR: green
}
.s {
	COLOR: black
}
.n {
	COLOR: black
}
.p {
	COLOR: brown
}
.list {
	FONT-SIZE: 80%; TEXT-ALIGN: right
}
.date {
	COLOR: green; TEXT-ALIGN: right
}
</style><meta name="generator" content="MSHTML 11.00.9600.19081"><script>
 function copySource(oButton){
   if(window.clipboardData){
     window.clipboardData.setData('Text',oButton.nextSibling.innerText);
     alert('Текст помещен в буфер обмена');
   }else{
     alert('Данная функция поддерживается только в браузере Internet Explorer');
   }
 }
 </script><style>A.cbData {
	FONT-SIZE: 8pt; TEXT-DECORATION: none; FONT-FAMILY: Courier New; BACKGROUND: #e6e6e6; BORDER-BOTTOM: #969696 1px solid; TEXT-ALIGN: right; MARGIN: 0px; DISPLAY: block
}
</style><style>.Programtext {
	MARGIN-TOP: 0pt
}
.Query {
	MARGIN-TOP: 0pt
}
.xml {
	MARGIN-TOP: 0pt
}
.vbcode {
	MARGIN-TOP: 0pt
}
</style><meta name="robots" content="noarchive">
<meta name="googlebot" content="noarchive">
<link href="https://its.1c.ru/db/content/metod8dev/src/developers/additional/guides/i8104829.htm" rel="canonical">
<link href="1c2.4_files/its.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="1c2.4_files/its.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--[if lt IE 9]><script type="text/javascript" src="/static/html5shiv.js?_=1500896273"></script><![endif]-->

<!--[if !IE]>--><script type="text/javascript" src="1c2.4_files/zeroclipboard.js"></script><!--<![endif]-->
<script type="text/javascript" src="1c2.4_files/converter.js"></script>
<script type="text/javascript">listenCopy('/static/zeroclipboard.swf?_=1484636603')</script>
<style>a.cbData:focus{outline:0}</style>
</head><body><a name="top"></a>
<p class="list date">20.09.2018</p>
<h1>Требования к разработке драйверов подключаемого оборудования (версия 2.4)</h1>
<ul class="TOC"><li><a href="#chapter0">Изменения в стандарте</a> 
</li><li><a href="#chapter1">Введение</a> 
</li><li><a href="#chapter00">Разработка драйвера для подключения оборудования к локальному рабочему месту</a> 
</li><li>&nbsp;&nbsp;&nbsp; <a href="#chapter2">Общие требования к разрабатываемому драйверу и его архитектуре</a> 
</li><li>&nbsp;&nbsp;&nbsp; <a href="#chapter22">Обязательные функции и методы, связанные с использованием драйвера подключаемого оборудования в системе</a> 
</li><li>&nbsp;&nbsp;&nbsp; <a href="#chapter23">Описание методов, специфичных для типов подключаемого оборудования</a> 
<ul><li><a href="#chapter231">Требования к разработке драйверов для электронных весов</a> 
</li><li><a href="#chapter232">Требования к разработке драйверов для электронных весов с печатью этикеток в режиме "OFFLINE"</a> 
</li><li><a href="#chapter233">Требования к разработке драйверов для дисплеев покупателя</a> 
</li><li><a href="#chapter234">Требования к разработке драйверов для терминалов сбора данных</a> 
</li><li><a href="#chapter235">Требования к разработке драйверов для фискальных регистраторов</a> 
</li><li><a href="#chapter270">Требования к разработке драйверов для ККТ с функцией передачи в ОФД</a> 
</li><li><a href="#chapter239">Требования к разработке драйверов для принтеров чеков</a> 
</li><li><a href="#chapter250">Требования к разработке драйверов для принтеров этикеток</a> 
</li><li><a href="#chapter237">Требования к разработке драйверов устройств ввода (сканеры штрихкода, считыватели магнитных карт и т.д.)</a> 
</li><li><a href="#chapter238">Требования к разработке драйверов для эквайринговых терминалов</a> 
</li><li><a href="#chapter236">Требования к разработке драйверов для RFID считывателей</a> </li></ul></li><li>&nbsp;&nbsp;&nbsp; <a href="#chapter401">Подключение драйверов разработанных по стандарту «1С: Совместимо» к конфигурации БПО</a> 
<ul><li><a href="#chapter402">Подготовка драйвера к загрузке в конфигурацию БПО</a> 
</li><li><a href="#chapter403">Загрузка подготовленного драйвера в конфигурацию БПО</a> 
</li><li><a href="#chapter404">Использование драйвера предварительно установленного на локальных компьютерах</a> </li></ul></li><li><a href="#chapter601">Подключение программно-аппаратных комплексов с помощью файлового обмена</a> 
</li><li><a href="#chapter501">Подключение программно-аппаратных комплексов с помощью web-сервиса "EquipmentService" </a></li></ul><h2 id="chapter0">Изменения в стандарте</h2>
<p><b>Данный стандарт поддерживается в "1С:Библиотека подключаемого оборудования" начиная с версии 2.0.6.</b></p>
<table id="table0" class="withBorder" width="64%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="6%">Версия</th>
<th width="36%">Раздел</th>
<th width="56%">Изменения</th></tr><tr><td>
<p style="TEXT-ALIGN: center">2.4</p></td>
<td><a href="#chapter270">Требования к разработке драйверов для ККТ с функцией передачи в ОФД</a> </td>
<td>Добавлена поддержка ставок НДС 20% и 20/120. <br>Добавлена поддержка дополнительных реквизитов чека и чека коррекции. Определена структура кода товарной номенклатуры. </td></tr><tr><td style="TEXT-ALIGN: center">2.3</td>
<td><a href="#chapter234">Требования к разработке драйверов для терминалов сбора данных</a></td>
<td>В таблицу выгружаемых и загружаемых данных добавлено поле <br>"ContainerBarcode" (штрихкод упаковки).</td></tr><tr><td style="TEXT-ALIGN: center">2.3</td>
<td><a href="#chapter250">Требования к разработке драйверов для принтеров этикеток</a></td>
<td>Добавлены новые поддерживаемые тип штрихкодов: <br>"EAN13Addon2","EAN13Addon5","GS1DataBarExpandedStacked"</td></tr><tr><td style="TEXT-ALIGN: center">2.3</td>
<td><a href="#chapter601">Подключение программно-аппаратных комплексов с помощью файлового обмена</a></td>
<td>Изменен раздел.</td></tr><tr><td style="TEXT-ALIGN: center">2.3</td>
<td><a href="#chapter601">Подключение программно-аппаратных комплексов с помощью web-сервиса "EquipmentService"</a></td>
<td>Изменен раздел.</td></tr><tr><td style="TEXT-ALIGN: center">2.2</td>
<td><a href="#chapter270">Требования к разработке драйверов для ККТ с функцией передачи в ОФД</a> </td>
<td>Изменен раздел. Данный стандарт определяет требования к ККТ на основании форматов фискальных документов версии «1.0»,«1.0.5».</td></tr><tr><td style="TEXT-ALIGN: center">2.1</td>
<td><a href="#chapter270">Требования к разработке драйверов для ККТ с функцией передачи в ОФД</a> </td>
<td>Добавлен новый метод НапечататьОтчетБезГашения (PrintXReport). <br>Изменены
 параметры метода СформироватьЧек (ProcessCheck) в структуре 
CheckPackage добавлен атрибут Department и изменен параметр Tax(указание
 ставок НДС в явном виде, в том числе БЕЗ НДС) </td></tr><tr><td style="TEXT-ALIGN: center">2.0</td>
<td><a href="#chapter270">Требования к разработке драйверов для ККТ с функцией передачи в ОФД</a> </td>
<td>Новый раздел. Данный стандарт определяет требования к ККТ на основании форматов фискальных документов версии «1.0»</td></tr><tr><td style="TEXT-ALIGN: center">2.0</td>
<td><a href="#chapter239">Требования к разработке драйверов для принтеров чеков</a></td>
<td>Изменен механизм печати документов с построчного на пакетный режим.</td></tr><tr><td style="TEXT-ALIGN: center">1.6</td>
<td><a href="#chapter236">Требования к разработке драйверов для RFID считывателей</a> </td>
<td>Новый раздел.</td></tr><tr><td style="TEXT-ALIGN: center">1.6</td>
<td><a href="#chapter234">Требования к разработке драйверов для терминалов сбора данных</a></td>
<td><span style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana">Добавлена возможность обмена атрибутами алкогольной продукции для поддержки работы ЕГАИС.</span></td></tr><tr><td style="TEXT-ALIGN: center">1.6</td>
<td><a href="#chapter601">Подключение программно-аппаратных POS-систем в режиме "OFFLINE" с помощью файлового обмена</a></td>
<td><span style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana">Добавлено 
разделение данных по пакетам с поддержкой предыдущих форматов с помощью 
механизма определения версии пакета. Добавлена возможность обмена 
атрибутами алкогольной продукции для поддержки работы ЕГАИС.</span></td></tr><tr><td style="TEXT-ALIGN: center">1.6</td>
<td><a href="#chapter501">Подключение программно-аппаратных комплексов с помощью Веб-сервиса оборудования</a></td>
<td><span style="FONT-SIZE: 10pt; FONT-FAMILY: Verdana">Добавлено 
разделение данных по пакетам с поддержкой предыдущих форматов с помощью 
механизма определения версии пакета. Добавлена возможность обмена 
атрибутами алкогольной продукции для поддержки работы ЕГАИС.</span></td></tr><tr><td style="TEXT-ALIGN: center">1.5</td>
<td><a href="#chapter235">Требования к разработке драйверов для фискальных регистраторов</a></td>
<td>Добавлена возможность печати штрихкода типа "QR".</td></tr><tr><td style="TEXT-ALIGN: center">1.5</td>
<td><a href="#chapter239">Требования к разработке драйверов для принтеров чеков</a></td>
<td>Добавлена возможность печати штрихкода типа "QR".</td></tr><tr><td style="TEXT-ALIGN: center">1.5</td>
<td><a href="#chapter601">Подключение программно-аппаратных POS систем в режиме "OFFLINE" с помощью файлового обмена</a></td>
<td>В структуру выгружаемой таблице товаров ТаблицаТоваров (GoodsTable) добавлен флаг "FullLoad".</td></tr><tr><td style="TEXT-ALIGN: center">1.4</td>
<td><a href="#chapter250">Требования к разработке драйверов для принтеров этикеток</a></td>
<td>Новый раздел.</td></tr><tr><td style="TEXT-ALIGN: center">1.4</td>
<td><a href="#chapter501">Подключение программно-аппаратных комплексов с помощью Веб-сервиса оборудования</a></td>
<td>Новый раздел.</td></tr><tr><td style="TEXT-ALIGN: center">1.4</td>
<td><a href="#chapter601">Подключение программно-аппаратных POS систем в режиме "OFFLINE" с помощью файлового обмена</a></td>
<td>Новый раздел.</td></tr><tr><td style="TEXT-ALIGN: center">1.3</td>
<td><a href="#chapter239">Требования к разработке драйверов для принтеров чеков</a></td>
<td>Новый раздел.</td></tr><tr><td style="TEXT-ALIGN: center">1.3</td>
<td><a href="#chapter401">Подключение драйверов разработанных по стандарту «1С: Совместимо» к конфигурации БПО</a></td>
<td>Новый раздел.</td></tr><tr><td style="TEXT-ALIGN: center">1.3</td>
<td><a href="#chapter235">Требования к разработке драйверов для фискальных регистраторов</a> </td>
<td>Добавлен новый метод "ОткрытьСмену". </td></tr><tr><td style="TEXT-ALIGN: center">1.2</td>
<td><a href="#chapter22">Общие требования к разрабатываемому драйверу и его архитектуре</a></td>
<td>- Добавлены рекомендации по разработке архитектуры драйвера.<br>- Дополнен пункт 4.<br>- Добавлен пункт 10.</td></tr><tr><td style="TEXT-ALIGN: center">1.2</td>
<td><a href="#chapter22">Обязательные функции и методы, связанные с использованием драйвера подключаемого оборудования в системе</a></td>
<td>Добавлены новые атрибуты для таблицы параметров: "ТолькоПросмотр", "Описание". </td></tr><tr><td style="TEXT-ALIGN: center">1.2</td>
<td><a href="#chapter232">Требования к разработке драйверов для электронных весов с печатью этикеток в режиме "OFFLINE"</a> </td>
<td>В метод ВыгрузитьТовары (UploadGoods) добавлен параметр "СтатусПакета"</td></tr><tr><td style="TEXT-ALIGN: center">1.2</td>
<td><a href="#chapter234">Требования к разработке драйверов для терминалов сбора данных</a></td>
<td>В метод ВыгрузитьТаблицу (UploadTable) добавлен параметр "СтатусПакета"</td></tr><tr><td style="TEXT-ALIGN: center">1.2</td>
<td><a href="#chapter238">Требования к разработке драйверов для эквайринговых терминалов</a></td>
<td>Добавлены рекомендации по реализации печати нескольких слип-чеков.</td></tr><tr><td style="TEXT-ALIGN: center" height="74">1.1</td>
<td height="74"><a href="#chapter22">Обязательные функции и методы, связанные с использованием драйвера подключаемого оборудования в системе</a></td>
<td height="74">- Для метода "ПолучитьОписание" добавлены дополнительные параметры "ИнтеграционнаяБиблиотека", "ОсновнойДрайверУстановлен"<br>- Добавлены методы "ПолучитьДополнительныеДействия", "ВыполнитьДополнительноеДействие" </td></tr><tr><td style="TEXT-ALIGN: center">1.1</td>
<td><a href="#chapter238">Требования к разработке драйверов для эквайринговых терминалов</a></td>
<td>- Для методов, отвечающих за работу с экваринговыми операциями, добавлен параметр "НомерЧека"<br>- Добавлена функция "ПечатьКвитанцийНаТерминале"</td></tr></tbody></table><br><h2 id="chapter1">Введение</h2>
<p>Для подключение оборудования к автоматизированным системам на 
платформе «1С:Предприятие» используется "1С:Библиотека подключаемого 
оборудования". Библиотека предоставляет набор высокоуровневых механизмов
 для унифицированной работы с подключаемым оборудованием. Применение 
данной библиотеки позволяет ускорить реализацию поддержки широкого 
спектра моделей подключаемого оборудования в разрабатываемых 
конфигурациях, а также добавить готовые функциональные блоки в уже 
работающие прикладные решения. <br><br>Подключение оборудования к 
локальному рабочему месту осуществляется с помощь специально 
разработанного драйвера. Требования к таким драйверам подключаемого 
оборудования описывают единые методы используемые как конфигурацией 
"1С:Библиотека подключаемого оборудования", так и драйвером 
оборудования. Конфигурация "1С:Библиотека подключаемого оборудования" 
непосредственно взаимодействует с драйверами оборудования используя 
стандартные команды, за счет чего достигается стандартный результат.<br><br>Поддерживается
 взаимодействие с программно-аппаратными POS-системами (от англ. "Point 
of Sale" - "Точка продаж") обеспечивающих розничные продажи. 
Взаимодействие обеспечивается с помощью файлового обмена с помощью 
встроенного в библиотеку модуля <b>"1С: ККМ-Offline"</b>.<br><br>Библиотека
 поддерживает работу сторонних программно-аппаратных комплексов 
различного назначения с помощью Веб-сервиса оборудования. Для 
осуществления обмена необходимо опубликовать Веб-сервис <b>"EquipmentService" </b>входящий
 в состав библиотеки. Веб-сервис обрабатывает запросы на получение и 
обработку данных от программно-аппаратных комплексов и возвращает 
стандартный результат во внешний программно-аппаратный комплекс. &nbsp;<br></p>
<p align="center"><img src="1c2.4_files/sheme002.jpeg"></p>
<p align="center"><i><br>Рис. 1. Схемы взаимодействия конфигураций системы программ «1С:Предприятие» с подключаемым оборудованием</i></p>
<p>Общую структуру документа можно разделить на две части: требования к 
разработке драйвера для подключения оборудования к локальному рабочему 
месту и подключение аппаратно-программных систем с помощью веб-сервиса 
оборудования. </p>
<h2 id="chapter00">Разработка драйвера для подключения оборудования к локальному рабочему месту</h2>
<p>Оборудование подключается к системе с помощью драйвера, 
разработанного по технологии создания внешних компонент. Технология 
определяет интерфейс взаимодействия между платформой и драйвером. 
Реализация драйвера возможна по технологии создания внешних компонент с 
использованием стандартных компонентных объектов для Windows 
(COM-интерфейс) и собственной технологии фирмы 1С – NativeAPI 
(динамическая библиотека для Windows или Linux). С помощью технологии 
NativeAPI можно создавать внешние компоненты, которые могут подключаться
 как в клиентском приложении, так и на сервере "1С:Предприятия", в том 
числе и в версиях для Linux. </p>
<p>Интерфейс внешней компоненты можно условно разделить на несколько частей:</p>
<ul><li><b>Первая часть</b> - общие требования к разрабатываемому драйверу и его архитектуре. 
</li><li><b>Вторая часть</b> - системная, определяет набор служебных 
функций и методов, связанных с использованием драйвера подключаемого 
оборудования в системе – подключение и настройка драйвера, получение его
 описания, тестирование и обслуживание ошибок. 
</li><li><b>Третья часть</b> - функциональная, определяет обязательный набор функций и методов, специфичный для данного типа подключаемого оборудования. 
</li><li><b>Четвертая часть</b> - действия по подключению драйверов, разработанных по стандарту «1С: Совместимо» к конфигурации БПО. </li></ul><h2 id="chapter2">1. Общие требования к разрабатываемому драйверу и его архитектуре</h2>
<p>Разрабатываемый драйвер должен:</p>
<ol><li>Быть разработан в виде внешней компоненты по технологии создания внешних компонент, приведенной в статье <a href="https://its.1c.ru/bmk/dev/vncomp" target="_top">"Технология создания внешних компонент"</a>. 
</li><li>Внешняя компонента для работы с подключаемым оборудованием 
должна содержать только один объект, реализующий расширение встроенного 
языка, и возвращать методом <b>«RegisterExtensionAs»</b> имя расширения, совпадающее с второй частью <b>ProgID</b>
 компоненты. Пример: для компоненты с ProgID «AddIn.Scanner» функция 
должна возвращать «Scanner». Имя расширения не должно содержать пробелов
 и недопустимых символов (в соответствии с правилами формирования имен 
объектов "1С:Предприятия"). 
</li><li>При создании компонент с использованием технологии COM - объект
 должен являться неуправляемым (Unmanaged Component), то есть написанным
 на неуправляемом коде. 
</li><li>Обеспечить возможность реализации функционала в полном объеме 
(должны быть реализованы и работать все методы) для подключаемого типа 
оборудования. Если оборудованием данная функция не поддерживается, 
должно возвращаться "<i>False</i>", а в описании ошибки, возвращаемом методом <i>ПолучитьОшибку (GetLastError)</i>, содержится текст, что данная функция оборудованием не поддерживается. 
</li><li>Предоставлять русскоязычные и англоязычные названия методов (например <i>ПолучитьВес() - GetWeight() </i>и др.). 
</li><li>Поддерживать работу с несколькими экземплярами устройств, в рамках процедур в которых используется данное оборудование. 
</li><li>При возникновении ошибки в работе предоставлять подробное 
описание произошедшей ошибки, позволяющее пользователю понять причину ее
 возникновения и возможный способ устранения. 
</li><li>При возникновении внештатных ситуаций (некорректные действия 
пользователя, отсутствие запрашиваемого метода или функции, передача 
некорректных значений и др.) корректно обрабатывать их. Не должно быть 
аварийных завершений работы драйвера и прочих действий драйвера, которые
 могут привести к нарушению нормальной работы пользователя. 
</li><li>Принимать/возвращать и обрабатывать таблицы значений в виде XML
 документа (текст в формате XML с кодировкой UTF-8, передаваемый с 
помощью параметра типа STRING). Данный способ передачи сложных массивов 
данных выбран для обеспечения независимости от технологии, на которой 
реализуется внешняя компонента-драйвер (Windows COM или NativeAPI). Для 
упрощения обработки структур данных используются наименования атрибутов 
только на английском языке. 
</li><li>Обрабатывать метод <b>SetLocale</b> для локализации драйвера в 
соответствии с полученным кодом локализации и настраивать свое окружение
 (текстовые надписи, сообщения об ошибках и т.д.). Драйвер должен 
поддерживать локализированное окружение для локального кода региона и 
локализацию окружения на английском языке. Если полученный код 
локализации отличается от предусмотренного в драйвере, то драйвер должен
 настроить свое окружение на использование английского языка. Более 
подробно использование метода <b>SetLocale</b> описано в документе <a href="https://its.1c.ru/bmk/dev/vncomp" target="_top">"Технология создания внешних компонент"</a>. </li></ol><p>При разработке драйвера можно использовать несколько архитектурных решений:</p>
<ul><li><b>Однокомпонентный драйвер -</b> Драйвер, представляющий из 
себя один файл, и предназначенный для использования только с системой 
программ «1С:Предприятие». При разработке драйвера в виде одного файла 
все используемые run-time библиотеки и другие необходимые файлы должны 
статически включаться в драйвер, так как на компьютере пользователя их 
может не оказаться или они могут быть другой версии. Рекомендуемая 
технология для разработки данного драйвера - NativeAPI. 
</li><li><b>Многокомпонентный драйвер - </b>Драйвер представляющий из 
себя сложный программно-аппаратный комплекс, предназначенный для 
использования как с системой программ «1С:Предприятие» , так с 
программными решениями сторонних производителей. Разрабатываемый драйвер
 состоит из двух частей: 
<ul><li><b>Интеграционная библиотека</b> - промежуточная компонента для 
связи "1С Предприятия" с основной поставкой драйвера. Имеет интерфейс, 
разработанный в соответствии общими требованиями к драйверу и 
технологией разработки внешних компонент, но не реализует функционала 
драйвера подключаемого оборудования. Интеграционная библиотека реализует
 функционал поиска установленной основной поставки драйвера, его 
инициализацию и переадресацию вызовов. Все используемые run-time 
библиотеки и другие необходимые файлы должны быть статически включены в 
компоненту. 
</li><li><b>Основная поставка драйвера</b> - драйвер поставщика, 
реализованный по произвольной технологии и состоящий из произвольного 
набора файлов. Протокол взаимодействия драйвера с интеграционной 
библиотекой не регламентируется данными требованиями. Поставка драйвера 
осуществляется посредством инсталляции из дистрибутива поставщика. </li></ul></li></ul><p><i><font color="#cc0000"><b>ВНИМАНИЕ:
 Для типа оборудования "Дисплей покупателя", "Устройства ввода", 
"Принтеры чеков", "Терминал сбора данных", "Электронные весы" 
допускается разработка драйвера в однокомпонентной архитектуре. Для 
других типов оборудования необходимо использовать многокомпонентную 
архитектуру!</b></font></i></p>
<h2 id="chapter22">2. Обязательные функции и методы, связанные с использованием драйвера подключаемого оборудования в системе</h2>
<p>Данный раздел содержит список обязательных функций и методов, 
связанных с использованием драйвера подключаемого оборудования в системе
 – его подключение и настройка, получение описания, тестирование и 
обслуживание ошибок.</p>
<p>Драйвер поддерживает два основных этапа работы с оборудованием в конфигурации:</p>
<ul><li>Регистрация и настройка оборудования 
</li><li>Использование оборудования пользователем в процессе работы </li></ul><p><b>Регистрация и настройка оборудования</b></p>
<ol><li>Получение описания драйвера вызовом метода <b>«ПолучитьОписание(GetDescription)»</b>. 
</li><li>Получения доступных параметров для настройки драйвера методом <b>«ПолучитьПараметры(GetParameters)»</b>. 
</li><li>Построение формы настройки драйвера на основании списка доступных параметров. 
</li><li>Сохранение параметров настройки драйвера в базе данных конфигурации. </li></ol><p><b>Использование оборудования пользователем в процессе работы</b></p>
<ol><li>Инициализация устройства сохраненными в базе параметрами методом<b> «УстановитьПараметр(SetParameter)»</b>. 
</li><li>Подключение оборудования с помощью метода <b>«Подключить(Open)»</b> с текущими значениями параметров, установленными вызовами метода <b>«УстановитьПараметр(SetParameter)»</b>. Метод <b>«Подключить(Open)»</b> возвращает идентификатор подключенного экземпляра устройства. 
</li><li>Вызов обязательных функций и методов, специфичных для данного 
типа подключаемого оборудования, с использованием идентификатора 
подключенного экземпляра устройства. 
</li><li>Получение кода ошибки и описания ошибки методом <b>«ПолучитьОшибку(GetLastError)»</b> в случае ее возникновения. 
</li><li>Отключение устройства методом <b>«Отключить(Close)» </b>по идентификатору подключенного экземпляра устройства. </li></ol><p><font color="#ff0000"><i><b>ВНИМАНИЕ:
 Все значения интерфейсных элементов (наименование, описание, заголовки,
 сообщения) должны быть реализованы на языке, установленном кодом 
локализации. (см. п.10 раздела Общие требования к разрабатываемому 
драйверу и его архитектуре.)</b></i></font></p>
<table id="table1" class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="28%">Название (alias)</th>
<th colspan="3" width="43%">Параметры</th>
<th rowspan="2" width="8%">Тип возвращаемого значения</th>
<th rowspan="2" width="20%">Описание метода </th></tr><tr><th width="18%">Имя</th>
<th width="10%">Тип</th>
<th width="15%">Описание</th></tr><tr><td width="28%">ПолучитьНомерВерсии (GetVersion)</td>
<td width="18%">
<p style="TEXT-ALIGN: center">-</p></td>
<td width="10%">
<p style="TEXT-ALIGN: center">-</p></td>
<td width="15%">
<p style="TEXT-ALIGN: center">-</p></td>
<td width="8%">
<p style="TEXT-ALIGN: center">STRING</p></td>
<td width="20%">Возвращает номер версии драйвера.</td></tr><tr><td rowspan="7" width="28%">ПолучитьОписание (GetDescription) </td>
<td width="18%">Наименование (Name) </td>
<td style="TEXT-ALIGN: center" width="10%">STRING [OUT]</td>
<td width="15%">Наименование драйвера</td>
<td rowspan="7" width="8%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td rowspan="7" width="20%">Возвращает информацию о драйвере, такую как название и описание, поддерживаемый тип оборудования.</td></tr><tr><td width="18%">Описание (Description) </td>
<td style="TEXT-ALIGN: center" width="10%">STRING [OUT]</td>
<td width="15%">Описание драйвера</td></tr><tr><td width="18%">ТипОборудования (EquipmentType) </td>
<td style="TEXT-ALIGN: center" width="10%">STRING [OUT]</td>
<td width="15%">Строка, определяющая тип оборудования*</td></tr><tr><td width="18%">РевизияИнтерфейса (InterfaceRevision) </td>
<td style="TEXT-ALIGN: center" width="10%">LONG [OUT]</td>
<td width="15%">Поддерживаемая версия требований** для данного типа оборудования</td></tr><tr><td width="18%">ИнтеграционнаяБиблиотека<br>(IntegrationLibrary) &nbsp;</td>
<td style="TEXT-ALIGN: center" width="10%">BOOL [OUT]</td>
<td width="15%">Флаг возвращает, является ли компонент интеграционной библиотекой драйвера или самостоятельным драйвером</td></tr><tr><td width="18%">ОсновнойДрайверУстановлен<br>(MainDriverInstalled)</td>
<td style="TEXT-ALIGN: center" width="10%">BOOL [OUT]</td>
<td width="15%">Для интеграционной библиотеки возвращает флаг установки основной поставки драйвера</td></tr><tr><td width="18%">URLCкачивания<br>(DownloadURL) </td>
<td style="TEXT-ALIGN: center" width="10%">STRING [OUT]</td>
<td width="15%">Возвращает пустую строку или адрес страницы сайта 
производителя, по которому доступна ссылка для скачивания основной 
поставки драйвера или иная информация о драйвере. При возвращении пустой
 строки функционал установки основной поставки драйвера не 
активизируется.</td></tr><tr><td width="28%" height="148">ПолучитьОшибку (GetLastError)</td>
<td width="18%" height="148">ОписаниеОшибки (ErrorDescription) </td>
<td width="10%" height="148">
<p style="TEXT-ALIGN: center">STRING [OUT]</p></td>
<td width="15%" height="148">Описание ошибки</td>
<td width="8%" height="148">
<p style="TEXT-ALIGN: center">LONG</p></td>
<td width="20%" height="148">Возвращает код и описание последней произошедшей ошибки.</td></tr><tr><td width="28%">ПолучитьПараметры (GetParameters) </td>
<td width="18%"><b><a href="#table_1">ТаблицаПараметров <br>(TableParameters) <br>XML таблица </a></b></td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [OUT]</p></td>
<td width="15%">Список параметров</td>
<td width="8%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td width="20%">Возвращает список параметров настройки драйвера и их типы, значения по умолчанию и возможные значения.</td></tr><tr><td rowspan="2" width="28%">УстановитьПараметр (SetParameter) </td>
<td width="18%">Имя (Name) </td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="15%">Имя параметра</td>
<td rowspan="2" width="8%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td rowspan="2" width="20%">Установка значения параметра по имени</td></tr><tr><td width="18%">Значение (Value) </td>
<td width="10%">
<p style="TEXT-ALIGN: center">VARIANT [IN] </p></td>
<td width="15%">Значение параметра</td></tr><tr><td width="28%">Подключить (Open)</td>
<td width="18%">ИДУстройства (DeviceID) </td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [OUT]</p></td>
<td width="15%">Идентификатор устройства</td>
<td width="8%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td width="20%">Подключает оборудование с текущими значениями 
параметров, установленных функцией «УстановитьПараметр». Возвращает 
идентификатор подключенного экземпляра устройства</td></tr><tr><td width="28%">Отключить (Close) </td>
<td width="18%">ИДУстройства (DeviceID) </td>
<td style="TEXT-ALIGN: center" width="10%">STRING [IN]</td>
<td width="15%">Идентификатор устройства</td>
<td width="8%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td width="20%">Отключает оборудование</td></tr><tr><td rowspan="2" width="28%">ТестУстройства (DeviceTest)</td>
<td width="18%">Описание (Description) </td>
<td style="TEXT-ALIGN: center" width="10%">STRING [OUT]</td>
<td width="15%">Описание результата выполнения теста</td>
<td rowspan="2" width="8%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td rowspan="2" width="20%">Выполняет пробное подключение и опрос 
устройства с текущими значениями параметров, установленными функцией 
«УстановитьПараметр». При успешном выполнении подключения в описании 
возвращается информация об устройстве</td></tr><tr><td width="18%">АктивированДемоРежим (DemoModeIsActivated) </td>
<td style="TEXT-ALIGN: center" width="10%">STRING [OUT]</td>
<td width="15%">Возвращает описание ограничений демонстрационного режима
 при его наличии и пустой результат при его отсутствии. Пример: драйвер 
является платным, и для полноценной работы нужен ключ защиты. </td></tr><tr><td width="28%">ПолучитьДополнительныеДействия (GetAdditionalActions)</td>
<td width="18%"><b><a href="#table_1_4">ТаблицаДействий<br>(TableActions) <br>XML таблица </a></b></td>
<td style="TEXT-ALIGN: center" width="10%">
<p style="TEXT-ALIGN: center">STRING [OUT]</p></td>
<td width="15%">Список дополнительных действий</td>
<td width="8%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td width="20%">Получает список действий, которые будут отображаться как
 дополнительные пункты меню в форме настройки оборудования, доступной 
администратору. Если действий не предусмотрено, возвращает пустую 
строку. </td></tr><tr><td width="28%">ВыполнитьДополнительноеДействие (DoAdditionalAction)</td>
<td width="18%">ИмяДействия (ActionName)</td>
<td style="TEXT-ALIGN: center" width="10%">STRING [IN]</td>
<td width="15%">Имя действия</td>
<td width="8%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td width="20%">Команда на выполнение дополнительного действия с определенными именем</td></tr></tbody></table><p>*
 - Строка, определяющая тип оборудования, имеет одно из значений: 
“СканерШтрихкода“, “СчитывательМагнитныхКарт“, “ФискальныйРегистратор“, 
“ПринтерЧеков“, “ПринтерЭтикеток“, “ДисплейПокупателя“, 
“ТерминалСбораДанных“, “ЭквайринговыйТерминал“, “ЭлектронныеВесы“, 
“ВесыСПечатьюЭтикеток“, “СчитывательRFID“, “ККТ“. <br>** - Версия 
требований – версия текущего документа (Версии 1.00&nbsp;соответствует 
число 1000. Версии 1.2 соответствует число 1002.<b><font color="#ff0000"> <u>Текущей версии 2.4 соответствует число 2004</u></font></b>.</p>
<h5 id="table_1">ТаблицаПараметров (TableParameters)</h5>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING. 
Содержит описание всех параметров драйвера и описание визуального 
интерфейса настройки драйвера. </p>
<p>Необходимые для работы параметры могут быть структурированы для 
вывода на форму конфигурации "1С:Предприятия" - распределены по 
закладкам и группам на закладке. Закладки и группы могут иметь 
наименования, которые отобразятся на форме. Для параметров могут быть 
заданы определенные значения, которые сформируют выпадающий список для 
выбора. Наконец, поля параметров, зависимых от других параметров, могут 
активироваться по необходимости. </p>
<table id="table2" class="withBorder" width="65%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="20%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="8%">Типы данных</th>
<th width="60%">Описание атрибута</th></tr><tr><td>Name</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Имя параметра, для которого создается поле ввода, не должно 
содержать пробелов и недопустимых символов (в соответствии с правилами 
формирования имен объектов "1С:Предприятия") и быть уникальным в рамках 
таблицы параметров</td></tr><tr><td>Caption</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Произвольная надпись перед полем ввода</td></tr><tr><td>Description</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Описание параметра. Справочная информация выводимая в выпадающей подсказке.</td></tr><tr><td>TypeValue</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Одно из нижеуказанных типов данных:<br>“String“, “Number“, “Boolean”</td></tr><tr><td>FieldFormat</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Строка форматирования значения параметра</td></tr><tr><td>DefaultValue</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Значение параметра по умолчанию</td></tr><tr><td>ReadOnly</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Параметр только для просмотра</td></tr><tr><td>ChoiceList</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">list</td>
<td>Содержит список доступных для выбора значений параметра</td></tr><tr><td>PageCaption</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование закладки, по которому будут группироваться поля ввода</td></tr><tr><td>GroupCaption</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование группы, по которому будут группироваться поля ввода</td></tr></tbody></table><p>Пример текстового XML описывающего параметры драйвера:</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml"> &lt;?xml version="1.0" encoding="UTF-8" ?&gt;
 &lt;Settings&gt;
      &lt;Page Caption="Параметры"&gt;    
      &lt;Group Caption="Параметры подключения"&gt;
           &lt;Parameter Name="Model" Caption="Модель" TypeValue="Number"/&gt; 
           &lt;Parameter Name="Port" Caption="Порт" TypeValue="Number" DefaultValue="0"&gt;
              &lt;ChoiceList&gt;
                  &lt;Item Value="0"&gt;Клавиатура&lt;/Item&gt;
                  &lt;Item Value="1"&gt;COM1&lt;/Item&gt;
                  &lt;Item Value="2"&gt;COM2&lt;/Item&gt;
               &lt;/ChoiceList&gt;
           &lt;/Parameter&gt;
           &lt;Parameter Name="Parity" Caption="Четность" TypeValue="Boolean" DefaultValue="true"/&gt;
           &lt;Parameter Name="Speed" Caption="Скорость" TypeValue="Number" DefaultValue="1"/&gt;
         &lt;/Group&gt;
      &lt;/Page&gt;
 &lt;/Settings&gt;

</pre>
<p>В результате будет сформирована следующая форма для ввода параметров:</p>
<p><img src="1c2.4_files/scr01_ru.png" border="0"></p>
<h5 id="table_1_4">ТаблицаДействий (TableActions)</h5>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING. 
Содержит описание дополнительных действий для настройки и управления 
драйвером в форме настройке оборудования, доступной администратору. <br>Данные
 действия будут отображаться пунктами меню в разделе "Функции", после 
пункта меню "Тест устройства" на форме настройки экземпляра 
подключаемого оборудования. При выборе определенного пункта меню будет 
вызван метод драйвера "ВыполнитьДополнительноеДействие" с параметром 
"ИмяДействия", соответствующий данному пункту меню. При выполнении 
данного действия драйвер может создавать дополнительные диалоговые окна в
 соответствии с документом <a href="https://its.1c.ru/bmk/dev/vncomp" target="_top">"Технология создания внешних компонент"</a>. </p>
<table id="table31" class="withBorder" width="65%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="9%">Секция</th>
<th width="28%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="8%">Типы данных</th>
<th width="60%">Описание атрибута</th></tr><tr><td colspan="2"><b>Actions</b></td>
<td style="TEXT-ALIGN: center"><b>Да</b></td>
<td style="TEXT-ALIGN: center">&nbsp;</td>
<td><b>Пользовательские действия.</b></td></tr><tr><td rowspan="2">
<p style="TEXT-ALIGN: center">Action</p></td>
<td>Name</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Имя действия, для которого создается пункт меню, не должно содержать
 пробелов и недопустимых символов (в соответствии с правилами 
формирования имен объектов "1С:Предприятия") и быть уникальным в рамках 
таблицы параметров</td></tr><tr><td>Caption</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Заголовок пункта меню</td></tr></tbody></table><p>Пример текстового XML описывающего дополнительные действия:</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml"> &lt;?xml version="1.0" encoding="UTF-8" ?&gt;
 &lt;Actions&gt;
      &lt;Action Name="SettingLog" Caption="Параметры журналирования"/&gt; 
 &lt;/Actions&gt;

</pre>
<p>В результате будут сформированы следующие пункты меню для формы для ввода параметров:</p>
<p><img src="1c2.4_files/scr02_ru.png" border="0"></p>&nbsp; 
<h2 id="chapter23">3. Описание методов, специфичных для типов подключаемого оборудования</h2>
<h3 id="chapter231">3.1. Требования к разработке драйверов для электронных весов</h3>
<p>Конфигурациями поддерживаются следующие возможности работы с весами on-line:</p>
<ol><li>Ввод значения веса тары, используемой для упаковки взвешиваемого товара. 
</li><li>Получение значения веса товара за вычетом веса тары. </li></ol><table id="table3" class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="28%">Название (alias)</th>
<th colspan="3" width="41%">Параметры</th>
<th rowspan="2" width="11%">Тип возвращаемого значения</th>
<th rowspan="2" width="20%">Описание метода </th></tr><tr><th width="18%">Имя</th>
<th width="10%">Тип</th>
<th width="13%">Описание</th></tr><tr><td rowspan="2" width="28%">УстановитьВесТары (Calibrate)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Идентификатор устройства</td>
<td rowspan="2" width="11%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td rowspan="2" width="20%">Производит установку веса тары на весах. 
Если значение «ВесТары» имеет значение 0 – в качестве значения 
принимается текущее значение веса на весах. </td></tr><tr><td width="18%">ВесТары (TareWeight)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">DOUBLE [IN]</p></td>
<td width="13%">Вес тары</td></tr><tr><td rowspan="3" width="28%">ПолучитьВес (GetWeight)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Идентификатор устройства</td>
<td rowspan="3" width="11%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td rowspan="3" width="20%">Получает текущий вес товара на весах. </td></tr><tr><td width="18%">ТекущийВес (Weight) </td>
<td width="10%">
<p style="TEXT-ALIGN: center">DOUBLE [OUT]</p></td>
<td width="13%">Текущий вес товара на весах</td></tr></tbody></table><br><h3 id="chapter232">3.2. Требования к разработке драйверов для электронных весов с печатью этикеток в режиме "OFFLINE"</h3>
<p>Работа с электронными весами с печатью этикеток заключается в 
выгрузке таблицы товаров. Таблица формируется на основе базы данных 
средствами конфигурации. Обработка выгрузки таблицы товаров в 
электронные весы должна предусматривать выгрузку несколькими итерациями 
путем последовательных вызовов метода <b>«ВыгрузитьТовары (UploadGoods)»</b>
 с пакетами данных определенного размера (например, по 100 записей) с 
дополнительным параметром, определяющим статус пакета ("first" - первый 
пакет,&nbsp; "regular" - очередной, "last" - последний пакет). </p>
<table id="table4" class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="21%">Название (alias)</th>
<th colspan="3" width="47%">Параметры</th>
<th rowspan="2" width="11%">Тип возвращаемого значения</th>
<th rowspan="2" width="20%">Описание метода </th></tr><tr><th width="24%">Имя</th>
<th width="10%">Тип</th>
<th width="13%">Описание</th></tr><tr><td rowspan="3" width="21%">ВыгрузитьТовары (UploadGoods)</td>
<td width="24%">ИДУстройства (DeviceID)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Идентификатор устройства</td>
<td rowspan="3" width="11%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td rowspan="3" width="20%">Выгружает товары в весы</td></tr><tr><td width="24%"><a href="#goodstablew"><b>ТаблицаТоваров<br>(GoodsTable)<br>XML таблица </b></a></td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Таблица товаров</td></tr><tr><td width="24%">СтатусПакета (PackageStatus)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Статус пакета *</td></tr><tr><td rowspan="2" width="21%">ОчиститьТовары (ClearGoods) </td>
<td width="24%">ИДУстройства (DeviceID)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Идентификатор устройства</td>
<td rowspan="2" width="11%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td rowspan="2" width="20%">Удаляет ранее загруженные товары в весах</td></tr></tbody></table><p>* - Строка, определяющая статус пакета, имеет одно из значений: "first", "regular", "last".</p><a name="goodstablew"></a>
<h5>ТаблицаТоваров (GoodsTable)</h5>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING.</p>
<table id="table5" class="withBorder" width="65%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="10%">Секция</th>
<th width="23%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="8%">Типы данных</th>
<th width="60%">Описание атрибута</th></tr><tr><td colspan="2"><b>Table</b></td>
<td style="TEXT-ALIGN: center"><b>Да</b></td>
<td style="TEXT-ALIGN: center">&nbsp;</td>
<td><b>Таблица товаров</b></td></tr><tr><td rowspan="7">
<p style="TEXT-ALIGN: center">Record</p></td>
<td>PLU</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">long</td>
<td>PLU товара (Индекс товара в весах)</td></tr><tr><td>Code</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Код весового товара</td></tr><tr><td>IsWeightGoods </td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Флаг весового товара. По умолчанию true. <br>Если false – то это штучный товар фасуемый на весах. </td></tr><tr><td>Name</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование товара</td></tr><tr><td>Price</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Цена за килограмм</td></tr><tr><td>Description</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Текстовое описание товара (состав товара, список ингредиентов и пр.)</td></tr><tr><td>ShelfLife</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Длительность хранения/срок годности товара, в днях</td></tr></tbody></table><p>Пример текстового XML, содержащий данные: </p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml"> 
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;Table&gt;
    &lt;Record PLU="1" Code="1003" Name="Яблоки Антоновка" Price="95,50" ShelfLife="7" IsWeightGoods="true"/&gt;
    &lt;Record PLU="2" Code="1023" Name="Салат Болгарский" Price="500,00" IsWeightGoods="true" 
            Description="Состав: свекла, морковь, ветчина, мясо, сыр, яйцо, лук репчатый, майонез" ShelfLife="5"/&gt;
 &lt;/Table&gt;
</pre><br><h3 id="chapter233">3.3. Требования к разработке драйверов для дисплеев покупателя</h3>
<p>При оформлении документов продажи необходимая информация может 
отображаться на дисплее покупателя. Состав информации определяется в 
конфигурации. Поддерживаются многострочные дисплеи и разбиение строк на 
области.</p>
<table id="table6" class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="28%">Название (alias)</th>
<th colspan="3" width="41%">Параметры</th>
<th rowspan="2" width="11%">Тип возвращаемого значения</th>
<th rowspan="2" width="20%">Описание метода </th></tr><tr><th width="18%">Имя</th>
<th width="10%">Тип</th>
<th width="13%">Описание</th></tr><tr><td rowspan="2" width="28%">ВывестиСтрокуНаДисплейПокупателя (StringOutputOnCustomerDisplay)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Идентификатор устройства</td>
<td rowspan="2" width="11%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td rowspan="2" width="20%">Выводит переданные строки на дисплей 
покупателя. Одна строка соответствует одной строке дисплея. Если строка 
пуста, то информация в данной строке на дисплее не меняется</td></tr><tr><td width="18%">Строки (Strings) </td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Cтроки, содержащие информацию для отображения на дисплее</td></tr><tr><td width="28%">ОчиститьДисплейПокупателя (ClearCustomerDisplay)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Идентификатор устройства</td>
<td width="11%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td width="20%">Очищает дисплей покупателя</td></tr><tr><td rowspan="3" width="28%">ПолучитьПараметрыВывода (GetOutputOptions) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Идентификатор устройства</td>
<td rowspan="3" width="11%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td rowspan="3" width="20%">Получить размерность дисплея покупателя</td></tr><tr><td width="18%">СтолбцовНаДисплее (DeviceColumns) </td>
<td width="10%">
<p style="TEXT-ALIGN: center">LONG [OUT]</p></td>
<td width="13%">Возвращает количество столбцов на дисплее (символов в строке) </td></tr><tr><td width="18%">СтрокНаДисплее (DeviceRows) </td>
<td width="10%">
<p style="TEXT-ALIGN: center">LONG [OUT]</p></td>
<td width="13%">Возвращает количество строк на дисплее</td></tr></tbody></table><br><h3 id="chapter234">3.4. Требования к разработке драйверов для терминалов сбора данных</h3>
<p>Работа с терминалами сбора данных (ТСД) заключается в выгрузке 
таблицы товаров из конфигурации и загрузке данных об отобранных товарах.
 <br>Таблица для выгрузки в ТСД формируется на основе базы данных 
средствами конфигурации. Обработка выгрузки таблицы товаров в ТСД должна
 предусматривать выгрузку несколькими итерациями путем последовательных 
вызовов метода <b>«ВыгрузитьТаблицу (UploadTable)» </b>с пакетами данных
 определенного размера (например, по 100 записей) с дополнительным 
параметром, определяющим статус пакета ("first" - первый пакет,&nbsp; 
"regular" - очередной, "last" - последний пакет). <br><br>В терминал 
загружается таблица товаров, и по ней отбираются товары. 
Предусматривается как частичная так и полная выгрузка. Из терминала 
загружается таблица отобранных товаров.<br>Загрузка таблицы товаров производится однократно методом «<b>ЗагрузитьТаблицу (DownloadTable)»</b>. </p>
<table class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="26%">Название (alias)</th>
<th colspan="3" width="42%">Параметры</th>
<th rowspan="2" width="11%">Тип возвращаемого значения</th>
<th rowspan="2" width="20%">Описание метода </th></tr><tr><th width="16%">Имя</th>
<th width="13%">Тип</th>
<th width="13%">Описание</th></tr><tr><td rowspan="3" width="26%">ВыгрузитьТаблицу (UploadTable)</td>
<td width="16%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="3" width="11%">BOOL</td>
<td rowspan="3" width="20%">Выгружает таблицу товаров в ТСД</td></tr><tr><td width="16%"><a href="#goodstable"><b>ТаблицаТоваров<br>(GoodsTable)<br>XML таблица </b></a></td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN]</td>
<td width="13%">Выгружаемая таблица</td></tr><tr><td width="16%">СтатусПакета (PackageStatus)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN]</td>
<td width="13%">Статус пакета *</td></tr><tr><td rowspan="2" width="26%">ЗагрузитьТаблицу (DownloadTable) </td>
<td width="16%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="11%">BOOL</td>
<td rowspan="2" width="20%">Загружает таблицу из ТСД</td></tr><tr><td width="16%"><a href="#downloadtable"><b>ТаблицаЗагрузки<br>(DownloadTable)<br>XML таблица </b></a></td>
<td style="TEXT-ALIGN: center" width="13%">STRING [OUT]</td>
<td width="13%">Загружаемая таблица</td></tr><tr><td width="26%">ОчиститьТаблицу (ClearTable) </td>
<td width="16%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td>
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td>Очищает загруженную ранее таблицу товаров в ТСД</td></tr></tbody></table><p>*
 - Строка, определяющая статус пакета, имеет одно из значений: "first", 
"regular", "last".&nbsp; Если пакет один, то статусу пакета 
присваивается "last".</p><a name="goodstable"></a>
<h5>ТаблицаТоваров (GoodsTable)</h5>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING.</p>
<table id="table8" class="withBorder" width="68%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="7%">Секция</th>
<th colspan="2" width="27%">Наименование атрибута</th>
<th width="11%">Обязательное наличие в структуре</th>
<th width="7%">Типы данных</th>
<th width="45%">Описание атрибута</th></tr><tr><td rowspan="20">
<p style="TEXT-ALIGN: center"><b>Table</b></p></td>
<td colspan="2">FullLoad </td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак выгрузки "Частичная/Полная". При полной выгрузке предполагается полная очистка товаров в терминале сбора данных. </td></tr><tr><td rowspan="19">
<p style="TEXT-ALIGN: center">Record</p></td>
<td width="18%">BarCode</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Штрихкод номенклатуры</td></tr><tr><td width="18%">Name</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование товара</td></tr><tr><td width="18%">Article</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Артикул товара</td></tr><tr><td width="18%">UnitOfMeasurement</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Единица измерения номенклатуры</td></tr><tr><td width="18%" height="32">CharacteristicOfNomenclature</td>
<td style="TEXT-ALIGN: center" height="32">Нет</td>
<td style="TEXT-ALIGN: center" height="32">string</td>
<td height="32">Характеристика номенклатуры</td></tr><tr><td width="18%">SeriesOfNomenclature</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Серия номенклатуры</td></tr><tr><td width="18%">Quality</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Качество товара</td></tr><tr><td width="18%">Price</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Цена товара</td></tr><tr><td width="18%">Quantity</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Количество товара</td></tr><tr><td width="18%">ContainerBarcode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Штрихкод упаковки</td></tr><tr><td width="18%">Alcohol</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак того, что товар является алкогольной или спиртосодержащей продукцией</td></tr><tr><td width="18%">AlcoholExcisable</td>
<td style="TEXT-ALIGN: center">&lt;Определяется&gt;</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак того, что товар (алкоголь) маркируется акцизной или 
специальной алкогольной маркой. Выгружается при положительном значении 
атрибута "Alcohol".</td></tr><tr><td width="18%">AlcoholKindCode</td>
<td style="TEXT-ALIGN: center">&lt;Определяется&gt;</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код вида алкогольной продукции. Выгружается при положительном значении атрибута "Alcohol".</td></tr><tr><td width="18%"><span style="FONT-SIZE: 10pt; FONT-FAMILY: &quot;Microsoft Sans Serif&quot;">AlcoholCode</span></td>
<td style="TEXT-ALIGN: center">&lt;Определяется&gt;</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код алкогольной продукции. Выгружается при положительном значении атрибута "Alcohol". </td></tr><tr><td width="18%">AlcoholContainerSize</td>
<td style="TEXT-ALIGN: center">&lt;Определяется&gt;</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Ёмкость тары в литрах. Выгружается при положительном значении атрибута "Alcohol".</td></tr><tr><td width="18%">AlcoholStrength</td>
<td style="TEXT-ALIGN: center">&lt;Определяется&gt;</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Процентное содержание спирта. Выгружается при положительном значении атрибута "Alcohol".</td></tr><tr><td width="18%">VendorINNCode</td>
<td style="TEXT-ALIGN: center">&lt;Определяется&gt;</td>
<td style="TEXT-ALIGN: center">string</td>
<td>ИНН производителя. Выгружается при положительном значении атрибута "Alcohol".</td></tr><tr><td width="18%">VendorKPPCode</td>
<td style="TEXT-ALIGN: center">&lt;Определяется&gt;</td>
<td style="TEXT-ALIGN: center">string</td>
<td>КПП производителя. Выгружается при положительном значении атрибута "Alcohol".</td></tr><tr><td width="18%">AlcoholExciseStamp</td>
<td style="TEXT-ALIGN: center">&lt;Определяется&gt;</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Штрихкод PDF417 акцизной или спец. марки алкогольной продукции</td></tr></tbody></table><p>Пример текстового XML, содержащий данные:&nbsp;</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml"> 
&lt;?xml version="1.0" encoding="UTF-8"?&gt; 
&lt;Table FullLoad="true"&gt;
    &lt;Record BarCode="4008110271538" Name="Блокнот для заметок" UnitOfMeasurement="Штуки" CharacteristicOfNomenclature="" <br>                        SeriesOfNomenclature="" Quality="" Price="25,30" Quantity="7"/&gt;
    &lt;Record BarCode="2900001355643" Name="Финики в банке" UnitOfMeasurement="Штуки" CharacteristicOfNomenclature="" 
            SeriesOfNomenclature="" Quality="Зеленые" Price="95,50" Quantity="7"/&gt;
&lt;/Table&gt;
</pre><a name="documentstable"></a><a name="downloadtable"></a>
<h5>ТаблицаЗагрузки (DownloadTable)</h5>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING.</p>
<table id="table9" class="withBorder" width="65%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="6%">Секция</th>
<th colspan="2" width="24%">Наименование атрибута</th>
<th width="10%">Обязательное наличие в структуре</th>
<th width="11%">Типы данных</th>
<th width="47%">Описание атрибута</th></tr><tr><td rowspan="12">
<p style="TEXT-ALIGN: center"><b>Table</b></p></td>
<td rowspan="12" width="8%">
<p style="TEXT-ALIGN: center">Record</p></td>
<td>BarCode</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Штрихкод номенклатуры</td></tr><tr><td>Quantity</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Количество товара</td></tr><tr><td>ContainerBarcode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Штрихкод упаковки</td></tr><tr><td>AlcoholExciseStamp</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Штрихкод PDF417 акцизной или спец. марки алкогольной продукции</td></tr><tr><td>AlcoholSerialNumber</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Серийный номер алкогольной продукции</td></tr><tr><td>AlcoholName</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование алкогольной продукции</td></tr><tr><td>AlcoholKindCode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код вида алкогольной продукции</td></tr><tr><td>AlcoholCode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код алкогольной продукции</td></tr><tr><td>AlcoholContainerSize</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Ёмкость тары в литрах</td></tr><tr><td>AlcoholStrength</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Процентное содержание спирта</td></tr><tr><td>VendorINNCode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>ИНН производителя</td></tr><tr><td>VendorKPPCode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>КПП производителя</td></tr></tbody></table><p>Пример текстового XML, содержащий данные:&nbsp; </p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt; 
&lt;Table&gt;
    &lt;Record BarCode="4008110271538" Quantity="1" AlcoholExciseStamp="20N00001CKO68OY4QYX3T1731224004002671B1IEHLWKNFXFO8FPMERND09WMB8FYV7"/&gt; 
    &lt;Record BarCode="2900001355643" Quantity="2"/&gt; 
&lt;/Table&gt;
</pre>&nbsp; 
<h3 id="chapter235">3.5. Требования к разработке драйверов для фискальных регистраторов</h3>
<p><font color="#ff0000"><i><b>Драйвера оборудования к сертификации по данному типу не принимаются. Требования оставлены для совместимости.<br>Контрольно кассовая техника сертифицируется по стандарту </b></i></font><i><a href="#chapter270"><font color="#ff0000">"ККТ с функцией передачи в ОФД</font></a></i><font color="#ff0000"><i><b>". </b></i></font><br><br>При работе с фискальными регистраторами (АСПД, принтерами чеков для ЕНВД) поддерживаются основные операции:</p>
<ul><li>Печать чеков внесения/выемки денежных средств; 
</li><li>Печать чека ККМ; 
</li><li>Печать отчетов за смену с гашением (Z-отчет) и без гашения (X-отчет). </li></ul><h5>Алгоритм печати чека ККМ.</h5>
<p>При формировании чеков ККМ конфигурация посылает команду на открытие 
нового чека. В зависимости от переданного параметра чек открывается в 
фискальном или нефискальном режиме.</p>
<p>В режиме открытого чека производится печать фискальной или 
нефискальной строки. При печати фискальной строки рассчитываются скидки.
 Если рассчитанное по формуле "<b>Ценана</b>*<b>Количество</b> – <b>Сумма по строке"</b>
 значение отлично от 0, то в чеке печатается абсолютное значение скидки в
 денежном выражении. Если значение скидки меньше нуля, вместо слова 
"Скидка" выводится слово «Наценка».</p>
<p>Поддерживается аннулирование ранее открытого чека при помощи параметра <b>"АннулироватьОткрытыйЧек"</b> метода <b>"ОткрытьЧек"</b>.</p>
<p>Поддерживается печать штрихкода в открытом чеке, если это позволяет сделать модель устройства. </p>
<p>По окончании печати строк чека производится расчет по чеку. Расчет по
 чеку может производиться несколькими видами оплат. При открытом 
фискальном чеке происходит печать итогов и сумм оплаты.</p>
<table id="table20" class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="23%">Название (alias)</th>
<th colspan="3" width="44%">Параметры</th>
<th rowspan="2" width="11%">Тип возвращаемого значения</th>
<th rowspan="2" width="20%">Описание метода </th></tr><tr><th width="18%">Имя</th>
<th width="13%">Тип</th>
<th width="13%">Описание</th></tr><tr><td width="23%">ОткрытьСмену (OpenShift) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="11%">BOOL</td>
<td width="20%">Открывает новую смену.</td></tr><tr><td rowspan="6" width="23%">ОткрытьЧек (OpenCheck)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="6" width="11%">BOOL</td>
<td rowspan="6" width="20%">Открывает новый чек.</td></tr><tr><td width="18%">ФискальныйЧек (IsFiscalCheck)</td>
<td style="TEXT-ALIGN: center" width="13%">BOOL [IN]</td>
<td width="13%">Признак фискального чека</td></tr><tr><td width="18%">ЧекВозврата (IsReturnCheck)</td>
<td width="13%">
<p style="TEXT-ALIGN: center">BOOL [IN]</p></td>
<td width="13%">Признак чека возврата</td></tr><tr><td width="18%">АннулироватьОткрытыйЧек (CancelOpenedCheck)</td>
<td style="TEXT-ALIGN: center" width="13%">BOOL [IN]</td>
<td width="13%">Признак автоматического аннулирования ранее открытого чека</td></tr><tr><td width="18%">НомерЧека (CheckNumber) </td>
<td style="TEXT-ALIGN: center" width="13%">LONG [OUT]</td>
<td width="13%">Номер нового чека</td></tr><tr><td width="18%">НомерСмены (SessionNumber) </td>
<td style="TEXT-ALIGN: center" width="13%">LONG [OUT]</td>
<td width="13%">Номер открытой смены</td></tr><tr><td rowspan="7" width="23%">НапечататьФискСтроку (PrintFiscalString) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="7" width="11%">BOOL</td>
<td rowspan="7" width="20%">Печатает строку товарной позиции с переданными реквизитами. </td></tr><tr><td width="18%">Наименование (Name) </td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Наименование товара</td></tr><tr><td width="18%">Количество (Quantity) </td>
<td style="TEXT-ALIGN: center" width="13%">DOUBLE [IN]</td>
<td width="13%">Количество товара</td></tr><tr><td width="18%">Цена (Price) </td>
<td style="TEXT-ALIGN: center" width="13%">DOUBLE [IN]</td>
<td width="13%">Цена единицы товара (в формате &lt;Рубли,Копейки&gt;)</td></tr><tr><td width="18%">Сумма (Amount) </td>
<td style="TEXT-ALIGN: center" width="13%">DOUBLE [IN]</td>
<td width="13%">Конечная сумма по позиции чека (с учетом всех скидок/наценок; в формате &lt;Рубли,Копейки&gt;)</td></tr><tr><td width="18%">Отдел (Department) </td>
<td style="TEXT-ALIGN: center" width="13%">LONG [IN]</td>
<td width="13%">Отдел, по которому ведется продажа</td></tr><tr><td width="18%">НДС (Tax) </td>
<td style="TEXT-ALIGN: center" width="13%">DOUBLE [IN]</td>
<td width="13%">НДС в процентах (от 0 до 99,99)</td></tr><tr><td rowspan="2" width="23%">НапечататьНефискСтроку (PrintNonFiscalString) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="11%">BOOL</td>
<td rowspan="2" width="20%">Выводит произвольную текстовую строку на чековую ленту.</td></tr><tr><td width="18%">СтрокаТекста (TextString) </td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Строка с произвольным текстом</td></tr><tr><td rowspan="3" width="23%">НапечататьШтрихКод (PrintBarCode) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="3" width="11%">BOOL</td>
<td rowspan="3" width="20%">Печать штрихкода осуществляется с 
автоматическим размером с выравниванием по центру чека. Тип штрихкода 
может иметь одно из следующих значений: EAN8, EAN13, CODE39, QR. В 
случае, если модель устройства не поддерживает печать штрихкода, 
выдается ошибка.</td></tr><tr><td width="18%">ТипШтрихкода (BarcodeType) </td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Строка, определяющая тип штрихкода</td></tr><tr><td width="18%">Штрихкод (Barcode) </td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Значение штрихкода</td></tr><tr><td rowspan="5" width="23%">ЗакрытьЧек (CloseCheck) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="5" width="11%">BOOL</td>
<td rowspan="5" width="20%">Закрывает чек. Сумма всех видов оплат должна быть больше суммы открытого чека.</td></tr><tr><td width="18%">НаличнаяОплата (Cash) </td>
<td style="TEXT-ALIGN: center" width="13%">DOUBLE [IN]</td>
<td width="13%">Сумма наличной оплаты</td></tr><tr><td width="18%">ОплатаКартой (PayByCard) </td>
<td style="TEXT-ALIGN: center" width="13%">DOUBLE [IN]</td>
<td width="13%">Сумма оплаты картой</td></tr><tr><td width="18%">ОплатаКредитом (PayByCredit) </td>
<td style="TEXT-ALIGN: center" width="13%">DOUBLE [IN]</td>
<td width="13%">Сумма оплаты кредитом</td></tr><tr><td width="18%">ОплатаСертификатом (PayByCertificate) </td>
<td style="TEXT-ALIGN: center" width="13%">DOUBLE [IN]</td>
<td width="13%">Сумма оплаты сертификатом</td></tr><tr><td width="23%">ОтменитьЧек (CancelCheck) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="11%">BOOL</td>
<td width="20%">Отменяет ранее открытый чек (требует административные привилегии).</td></tr><tr><td rowspan="2" width="23%">НапечататьЧекВнесенияВыемки (CashInOutcome)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="11%">BOOL</td>
<td rowspan="2" width="20%">Печатает на ФР чек внесения/ выемки (зависит от переданной суммы). Сумма &gt;= 0 - внесение, Сумма &lt; 0 - выемка.</td></tr><tr><td width="18%">Сумма (Amount) </td>
<td style="TEXT-ALIGN: center" width="13%">DOUBLE [IN]</td>
<td width="13%">Сумма внесения /выемки в формате &lt;Рубли,Копейки&gt; </td></tr><tr><td width="23%">НапечататьОтчетБезГашения (PrintXReport) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="11%">BOOL</td>
<td width="20%">Печатает на ФР отчет за смену без гашения (не закрывает кассовую смену)</td></tr><tr><td width="23%">НапечататьОтчетСГашением (PrintZReport)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%" height="40">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="11%" height="40">BOOL</td>
<td width="20%">Печатает на ФР отчет за смену с гашением (закрывает кассовую смену, требует административные привилегии).</td></tr><tr><td width="23%">ОткрытьДенежныйЯщик (OpenCashDrawer)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="11%">BOOL</td>
<td width="20%">Производит открытие денежного ящика, подключенного к фискальному регистратору.</td></tr><tr><td rowspan="2" width="23%">ПолучитьШиринуСтроки (GetLineLength) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="11%">BOOL</td>
<td rowspan="2" width="20%">Получить ширину строки чека в символах.</td></tr><tr><td width="18%">ШиринаСтроки (LineLength) </td>
<td style="TEXT-ALIGN: center" width="13%">LONG [OUT]</td>
<td width="13%">Ширина строки в символахах</td></tr></tbody></table><br><h3 id="chapter270">3.6. Требования к разработке драйверов для ККТ с функцией передачи в ОФД<br></h3>
<p><font color="#ff0000"><i><b>ВНИМАНИЕ: Данный стандарт определяет требования к ККТ на основании форматов фискальных документов версии "1.0" и "1.05".</b></i></font></p>
<p>При работе с ККТ с функцией передачи данных в ОФД поддерживаются следующие операции:</p>
<ul><li>Получение данных из ККТ для регистрации фискального накопителя и последующей работы; 
</li><li>Операции с фискальным накопителем:&nbsp; 
<ul><li>Регистрация 
</li><li>Изменение параметров регистрации 
</li><li>Закрытие </li></ul></li><li>Формирование документов открытия и закрытия смены; 
</li><li>Формирование фискальных чеков; 
</li><li>Формирование фискальных чеков коррекции; 
</li><li>Формирование фискальных отчетов о текущем состоянии расчетов; 
</li><li>Формирование нефискальных отчетов (отчет без гашения); 
</li><li>Получение текущего состояние ККТ; 
</li><li>Печать чеков внесения/выемки денежных средств; 
</li><li>Печать текстовых документов; 
</li><li>Открытие денежного ящика.<br></li></ul><table id="table21" class="withBorder" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="23%">Название (alias)</th>
<th colspan="3" width="44%">Параметры</th>
<th rowspan="2" width="11%">Тип возвращаемого значения</th>
<th rowspan="2" width="20%">Описание метода </th></tr><tr><th width="18%">Имя</th>
<th width="7%">Тип</th>
<th width="18%">Описание</th></tr><tr><td rowspan="2" width="23%">ПолучитьПараметрыККТ (GetDataKKT)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="11%">BOOL</td>
<td rowspan="2" width="20%">Получение данных из ККТ для регистрации фискального накопителя и последующей работы</td></tr><tr><td width="18%"><b><a href="#tableparameterskkt">ТаблицаПараметровККТ<br>(TableParametersKKT) <br>XML таблица </a></b></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [OUT]</td>
<td width="18%">Регистрационные данные фискального накопителя </td></tr><tr><td rowspan="3" width="23%">ОперацияФН (OperationFN)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="3" width="11%">BOOL</td>
<td rowspan="3" width="20%">Операция с фискальным накопителем. После проведения операции происходит печать отчета о проведении соответствующей операции.</td></tr><tr><td width="18%">ТипОперации (OperationType)</td>
<td style="TEXT-ALIGN: center" width="7%">LONG [IN]</td>
<td width="18%">Тип операции:<br>1 - Регистрация<br>2 - Изменение параметров регистрации<br>3 - Закрытие ФН</td></tr><tr><td width="18%"><b><a href="#parametersfiscal">ПараметрыФискализации<br>(ParametersFiscal) <br>XML таблица </a></b></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Данные для фискализации фискального накопителя</td></tr><tr><td rowspan="5" width="23%">ОткрытьСмену (OpenShift) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="5" width="11%">BOOL</td>
<td rowspan="5" width="20%">Открывает новую смену и печатает на ККТ отчет об открытии смены.</td></tr><tr><td width="18%"><a href="#inputparameters">ВходныеПараметры (InputParameters) </a><b><br><a href="#inputparameters">XML таблица </a></b></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN]</td>
<td width="18%">Входные параметры операции</td></tr><tr><td width="18%"><a href="#outputparameters1">ВыходныеПараметры <br>(OutputParameters) </a><b><br><a href="#outputparameters1">XML таблица</a><a href="#parametersfiscal"> </a></b></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [OUT]</td>
<td width="18%">Выходные параметры операции</td></tr><tr><td width="18%">НомерСмены (SessionNumber) </td>
<td style="TEXT-ALIGN: center" width="7%">LONG [OUT]</td>
<td width="18%">Номер смены</td></tr><tr><td width="18%">НомерДокумента(DocumentNumber)</td>
<td style="TEXT-ALIGN: center" width="7%">LONG [OUT]</td>
<td width="18%">Номер отчета об открытии смены (номер фискального документа)</td></tr><tr><td rowspan="5" width="23%">ЗакрытьСмену (CloseShift)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="5" width="11%">BOOL</td>
<td rowspan="5" width="20%">Закрывает открытую ранее смену и печатает на ККТ отчет о закрытии смены.</td></tr><tr><td width="18%"><a href="#inputparameters">ВходныеПараметры (InputParameters)<br><b>XML таблица </b></a></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN]</td>
<td width="18%">Входные параметры операции</td></tr><tr><td width="18%"><a href="#outputparameters2">ВыходныеПараметры <br>(OutputParameters) </a><b><br><a href="#outputparameters2">XML таблица</a><a href="#parametersfiscal"> </a></b></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [OUT]</td>
<td width="18%">Выходные параметры операции</td></tr><tr><td width="18%">НомерСмены (SessionNumber) </td>
<td style="TEXT-ALIGN: center" width="7%">LONG [OUT]</td>
<td width="18%">Номер закрытой смены</td></tr><tr><td width="18%">НомерДокумента (DocumentNumber)</td>
<td style="TEXT-ALIGN: center" width="7%">LONG [OUT]</td>
<td width="18%">Номер отчета о закрытии смены (номер фискального документа)</td></tr><tr><td rowspan="7" width="23%">СформироватьЧек (ProcessCheck)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="7" width="11%">BOOL</td>
<td rowspan="7" width="20%">Формирование чека в пакетном режиме. 
Передается структура, описывающая тип открываемого чека, фискальные и 
текстовые строки, штрихкоды, которые будут напечатаны. Также передаются 
суммы оплат для закрытия чека.</td></tr><tr><td width="18%">Электронно (Electronically)</td>
<td style="TEXT-ALIGN: center" width="7%">BOOL (IN)</td>
<td width="18%">
<p class="MsoNormal">Формирование чека в только электроном виде. Печать чека не осуществляется. </p></td></tr><tr><td width="18%"><b><a href="#checkpackage">ДанныеЧека<br>(CheckPackage) <br>XML таблица </a></b></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN]</td>
<td width="18%">XML структура - описание чека.</td></tr><tr><td width="18%">НомерЧека (CheckNumber) </td>
<td style="TEXT-ALIGN: center" width="7%">LONG [OUT]</td>
<td width="18%">Номер фискального чека</td></tr><tr><td width="18%">НомерСмены (SessionNumber) </td>
<td style="TEXT-ALIGN: center" width="7%">LONG [OUT]</td>
<td width="18%">Номер открытой смены</td></tr><tr><td width="18%" height="33">ФискальныйПризнак (FiscalSign)</td>
<td style="TEXT-ALIGN: center" width="7%" height="33">STRING [OUT]</td>
<td width="18%" height="33">Фискальный признак</td></tr><tr><td width="18%" height="39">AddressSiteInspections (АдресСайтаПроверки)</td>
<td style="TEXT-ALIGN: center" width="7%" height="39">STRING [OUT]</td>
<td width="18%" height="39">Адрес сайта проверки</td></tr><tr><td rowspan="6" width="23%"><br>СформироватьЧекКоррекции (ProcessCorrectionCheck)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="6" width="11%">BOOL</td>
<td rowspan="6" width="20%">Формирование чека коррекции в пакетном режиме. Передается структура, описывающая тип открываемого чека и атрибуты чека.</td></tr><tr><td width="18%"><b><a href="#checkcorrectionpackage">ДанныеЧекаКоррекции<br>(CheckCorrectionPackage) <br>XML таблица </a></b></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN]</td>
<td width="18%">XML структура - описание чека коррекции.</td></tr><tr><td width="18%">НомерЧека (CheckNumber) </td>
<td style="TEXT-ALIGN: center" width="7%">LONG [OUT]</td>
<td width="18%">Номер фискального чека (Номер фискального документа сформированный ФН)</td></tr><tr><td width="18%">НомерСмены (SessionNumber) </td>
<td style="TEXT-ALIGN: center" width="7%">LONG [OUT]</td>
<td width="18%">Номер смены</td></tr><tr><td width="18%">ФискальныйПризнак (FiscalSign)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [OUT]</td>
<td width="18%">Фискальный признак</td></tr><tr><td width="18%">AddressSiteInspections (АдресСайтаПроверки)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [OUT]</td>
<td width="18%">Адрес сайта проверки</td></tr><tr><td rowspan="2" width="23%">НапечататьТекстовыйДокумент (PrintTextDocument)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="11%">BOOL</td>
<td rowspan="2" width="20%">Печать текстового документа (текстовый слип-чек, информационная квитанция)</td></tr><tr><td width="18%"><b><a href="#documentpackage">ДанныеДокумента<br>(DocumentPackage) <br>XML таблица </a></b></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN]</td>
<td width="18%">XML структура - описание текстового документа.</td></tr><tr><td rowspan="3" width="23%">НапечататьЧекВнесенияВыемки (CashInOutcome)</td>
<td width="18%" height="29">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%" height="29">STRING [IN] </td>
<td width="18%" height="29">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="3" width="11%">BOOL</td>
<td rowspan="3" width="20%">Печатает чек внесения/выемки (зависит от переданной суммы). Сумма &gt;= 0 - внесение, Сумма &lt; 0 - выемка.</td></tr><tr><td width="18%"><a href="#inputparameters">ВходныеПараметры (InputParameters)<br><b>XML таблица </b></a></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Входные параметры операции</td></tr><tr><td width="18%">Сумма (Amount) </td>
<td style="TEXT-ALIGN: center" width="7%">DOUBLE [IN]</td>
<td width="18%">Сумма внесения /выемки</td></tr><tr><td rowspan="2" width="23%">НапечататьОтчетБезГашения (PrintXReport) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN]</td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="11%">BOOL</td>
<td rowspan="2" width="20%">Печатает на отчет за смену без закрытия кассовой смены</td></tr><tr><td width="18%"><a href="#inputparameters">ВходныеПараметры (InputParameters)<br><b>XML таблица </b></a></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN]</td>
<td width="18%">Входные параметры операции</td></tr><tr><td rowspan="5" width="23%">ПолучитьТекущееСостояние (GetCurrentStatus) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="5" width="11%">BOOL</td>
<td rowspan="5" width="20%">Получение текущего состояние ККТ.</td></tr><tr><td width="18%">НомерЧека (CheckNumber)</td>
<td style="TEXT-ALIGN: center" width="7%">LONG [OUT]</td>
<td width="18%">Номер последнего пробитого фискального чека</td></tr><tr><td width="18%" height="27">НомерСмены (SessionNumber)</td>
<td style="TEXT-ALIGN: center" width="7%" height="27">LONG [OUT]</td>
<td width="18%" height="27">Номер смены </td></tr><tr><td width="18%">СтатусСмены (SessionState)</td>
<td style="TEXT-ALIGN: center" width="7%">LONG [OUT]</td>
<td width="18%">Состояние смены <br>1 - Закрыта<br>2 - Открыта<br>3 - Истекла</td></tr><tr><td width="18%"><a href="#statusparameters">ПараметрыСостояния<br>(StatusParameters)</a></td>
<td width="7%">
<p style="TEXT-ALIGN: center">STRING [OUT] </p></td>
<td width="18%">XML структура - описание параметров состояния.</td></tr><tr><td rowspan="3" width="23%">ОтчетОТекущемСостоянииРасчетов<br>(ReportCurrentStatusOfSettlements)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="3" width="11%">BOOL</td>
<td rowspan="3" width="20%">Формирует отчет о текущем состоянии расчетов</td></tr><tr><td width="18%"><a href="#inputparameters">ВходныеПараметры (InputParameters)<br><b>XML таблица </b></a></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Входные параметры операции</td></tr><tr><td width="18%"><a href="#outputparameters2">ВыходныеПараметры <br>(OutputParameters) </a><b><br><a href="#outputparameters2">XML таблица</a><a href="#parametersfiscal"> </a></b></td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Выходные параметры операции</td></tr><tr><td width="23%">ОткрытьДенежныйЯщик (OpenCashDrawer)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="11%">BOOL</td>
<td width="20%">Производит открытие денежного ящика, подключенного к фискальному регистратору.</td></tr><tr><td rowspan="2" width="23%">ПолучитьШиринуСтроки (GetLineLength) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="7%">STRING [IN] </td>
<td width="18%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="11%">BOOL</td>
<td rowspan="2" width="20%">Получить ширину строки чека в символах.</td></tr><tr><td width="18%">ШиринаСтроки (LineLength) </td>
<td style="TEXT-ALIGN: center" width="7%">LONG [OUT]</td>
<td width="18%">Ширина строки в символахах</td></tr></tbody></table><h5>ТаблицаПараметровККТ (TableParametersKKT)</h5>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING.</p>
<table id="tableparameterskkt" class="withBorder" width="1339" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="21%">Наименование атрибута</th>
<th width="7%">Обязательное наличие в структуре</th>
<th width="11%">Типы данных</th>
<th width="56%">Описание атрибута</th></tr><tr><td>KKTNumber</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Регистрационный номер ККТ</td></tr><tr><td>KKTSerialNumber</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string&nbsp;</td>
<td>Заводской номер ККТ </td></tr><tr><td>Fiscal</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак регистрации фискального накопителя</td></tr><tr><td>FFDVersionFN</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Версия ФФД ФН (одно из следующих значений "1.0","1.1")</td></tr><tr><td>FFDVersionKKT</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Версия ФФД ККТ (одно из следующих значений "1.0","1.0.5","1.1")</td></tr><tr><td>FNSerialNumber</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Заводской номер ФН</td></tr><tr><td>DocumentNumber</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Номер документа регистрация фискального накопителя</td></tr><tr><td>DateTime</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">datetime</td>
<td>Дата и время операции регистрации фискального накопителя</td></tr><tr><td>OrganizationName</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Название организации</td></tr><tr><td height="25">VATIN</td>
<td style="TEXT-ALIGN: center" height="25">Нет*</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">ИНН организация</td></tr><tr><td>AddressSettle</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Адрес проведения расчетов</td></tr><tr><td>PlaceSettle</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Место проведения расчетов</td></tr><tr><td>TaxVariant</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Коды системы налогообложения через разделитель ",". Коды системы налогообложения приведены в таблице <a href="#taxvariant">"Системы налогообложения"</a>.</td></tr><tr><td>OfflineMode</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак автономного режима</td></tr><tr><td>DataEncryption</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак шифрование данных</td></tr><tr><td>ServiceSign</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак расчетов за услуги</td></tr><tr><td>SaleExcisableGoods</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>продажа подакцизного товара</td></tr><tr><td>SignOfGambling</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>признак проведения азартных игр</td></tr><tr><td>SignOfLottery</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>признак проведения лотереи</td></tr><tr><td>SignOfAgent</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Коды признаков агента через разделитель ",". </td></tr><tr><td>BSOSing</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак формирования АС БСО</td></tr><tr><td>CalcOnlineSign</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак ККТ для расчетов только в Интернет</td></tr><tr><td>PrinterAutomatic</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак установки принтера в автомате</td></tr><tr><td>AutomaticMode</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак автоматического режима</td></tr><tr><td>AutomaticNumber</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Номер автомата для автоматического режима</td></tr><tr><td>OFDOrganizationName</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Название организации ОФД</td></tr><tr><td>OFDVATIN</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>ИНН организации ОФД</td></tr><tr><td>FNSWebSite</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Адрес сайта уполномоченного органа (ФНС) в сети «Интернет»</td></tr><tr><td>SenderEmail</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Адрес электронной почты отправителя чека</td></tr></tbody></table><p>* Данные поля обязательны для фискализированных ФН.</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml"></pre>
<h5>ПараметрыФискализации (ParametersFiscal)</h5>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING.</p>
<table id="parametersfiscal" class="withBorder" width="986" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="25%">Наименование атрибута</th>
<th width="13%">Обязательное наличие в структуре</th>
<th width="12%">Типы данных</th>
<th width="46%">Описание атрибута</th></tr><tr><td>CashierName</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>ФИО и должность уполномоченного лица для проведения операции </td></tr><tr><td>CashierVATIN</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>ИНН уполномоченного лица для проведения операции</td></tr><tr><td>KKTNumber</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Регистрационный номер ККТ</td></tr><tr><td>OrganizationName</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Название организации</td></tr><tr><td height="25">VATIN</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">ИНН организация</td></tr><tr><td>AddressSettle</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Адрес проведения расчетов</td></tr><tr><td>PlaceSettle</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Место проведения расчетов</td></tr><tr><td>TaxVariant</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Коды системы налогообложения через разделитель ",". Коды системы налогообложения приведены в таблице <a href="#taxvariant">"Системы налогообложения"</a>.</td></tr><tr><td>OfflineMode</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак автономного режима</td></tr><tr><td>DataEncryption</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак шифрование данных</td></tr><tr><td>ServiceSign</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак расчетов за услуги</td></tr><tr><td>SaleExcisableGoods</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>продажа подакцизного товара</td></tr><tr><td>SignOfGambling</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>признак проведения азартных игр</td></tr><tr><td>SignOfLottery</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>признак проведения лотереи</td></tr><tr><td>SignOfAgent </td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Коды признаков агента через разделитель ",". <br>(Коды приведены в таблице 10 форматов фискальных данных)</td></tr><tr><td>BSOSing</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак формирования АС БСО</td></tr><tr><td>CalcOnlineSign</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак ККТ для расчетов только в Интернет</td></tr><tr><td>PrinterAutomatic</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак установки принтера в автомате</td></tr><tr><td>AutomaticMode</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак автоматического режима</td></tr><tr><td>AutomaticNumber</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Номер автомата для автоматического режима</td></tr><tr><td>ReasonCode</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Код причины перерегистрации (*указывается только для операции "Изменение параметров регистрации")<br>(Коды приведены в таблице 15 форматов фискальных данных)</td></tr><tr><td>InfoChangesReasonsCodes</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Коды причин изменения сведений о ККТ через разделитель ". <br>(Коды приведены в таблице 16 форматов фискальных данных)</td></tr><tr><td>OFDOrganizationName</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Название организации ОФД</td></tr><tr><td>OFDVATIN</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>ИНН организации ОФД</td></tr><tr><td>FNSWebSite</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Адрес сайта уполномоченного органа (ФНС) в сети «Интернет»</td></tr><tr><td>SenderEmail</td>
<td style="TEXT-ALIGN: center">Нет*</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Адрес электронной почты отправителя чека</td></tr></tbody></table><p>* Данное поле обязательно при процедуре изменение параметров регистрации.</p>
<h4 id="inputparameters">Описание структуры InputParameters</h4>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING.</p>
<table class="withBorder" width="986" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="30%">Наименование атрибута</th>
<th width="119">Обязательное наличие в структуре</th>
<th width="94">Типы данных</th>
<th width="464">Описание атрибута</th></tr><tr><td colspan="5"><b>InputParameters</b></td></tr><tr><td rowspan="2">Parameters</td>
<td width="199">CashierName</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>ФИО и должность уполномоченного лица для проведения операции </td></tr><tr><td width="199">CashierVATIN</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>ИНН уполномоченного лица для проведения операции</td></tr></tbody></table><p>Пример текстового XML:</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml"> &lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;InputParameters&gt; 
	&lt;Parameters CashierName="Иванов И.П." CashierVATIN="32456234523452"/&gt;
 &lt;/InputParameters&gt;
</pre>
<h4 id="outputparameters1">Описание структуры OutputParameters для метода "ОткрытьСмену (OpenShift)"</h4>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING.</p>
<table class="withBorder" width="986" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="269">Наименование атрибута</th>
<th width="11%">Обязательное наличие в структуре</th>
<th width="87">Типы данных</th>
<th width="493">Описание атрибута</th></tr><tr><td colspan="5"><b>OutputParameters</b></td></tr><tr><td rowspan="5" width="96">Parameters</td></tr><tr><td width="167">UrgentReplacementFN</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">bool</td>
<td>Признак необходимости срочной замены ФН</td></tr><tr><td width="167">MemoryOverflowFN</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">bool</td>
<td>Признак переполнения памяти ФН </td></tr><tr><td width="167">ResourcesExhaustionFN</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">bool</td>
<td>Признак исчерпания ресурса ФН </td></tr><tr><td width="167">OFDtimeout</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">bool</td>
<td>Признак того, что подтверждение оператора для переданного 
фискального документа отсутствует более двух дней. Для ФД с версией ФФД 
1.0 более 5 дней.</td></tr></tbody></table><p>Пример текстового XML:</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml"> &lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;OutputParameters&gt; 
     &lt;Parameters 
           UrgentReplacementFN="false" 
	   MemoryOverflowFN="false" 
           ResourcesExhaustionFN="false" /&gt;
 &lt;/OutputParameters&gt;
</pre>
<h4 id="outputparameters2">Описание структуры OutputParameters для метода "ЗакрытьСмену (CloseShift)"</h4>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING.</p>
<table class="withBorder" width="1067" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="117">Обязательное наличие в структуре</th>
<th width="115">Типы данных</th>
<th width="482">Описание атрибута</th></tr><tr><td colspan="5"><b>OutputParameters</b></td></tr><tr><td rowspan="10">Parameters</td>
<td>NumberOfChecks</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Количество кассовых чеков за смену</td></tr><tr><td>NumberOfDocuments</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Количество общее ФД за смену</td></tr><tr><td>BacklogDocumentsCounter</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Количество непереданных документов</td></tr><tr><td>BacklogDocumentFirstNumber</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Номер первого непереданного документа</td></tr><tr><td>BacklogDocumentFirstDateTime</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">datetime</td>
<td>Дата и время первого из непереданных документов</td></tr><tr><td>UrgentReplacementFN</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">bool</td>
<td>Признак необходимости срочной замены ФН</td></tr><tr><td>MemoryOverflowFN</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">bool</td>
<td>Признак переполнения памяти ФН </td></tr><tr><td>ResourcesExhaustionFN</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">bool</td>
<td>Признак исчерпания ресурса ФН </td></tr><tr><td>ResourcesFN</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Срок действия ключей фискального признака. Текущее значение реквизита определяется как остаток срока действия ключей в днях.</td></tr><tr><td>OFDTimeout</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">bool</td>
<td>Признак того, что подтверждение оператора для переданного 
фискального документа отсутствует более двух дней. Для ФД с версией ФФД 
1.0 более 5 дней.</td></tr></tbody></table><p>Пример текстового XML:</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml"> &lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;OutputParameters&gt;
     &lt;Parameters  
	OFDTimeout="Иванов И.П." 
	CashierVATIN="32456234523452"/&gt;
 &lt;OutputParameters &gt;
</pre>
<h4>Описание структуры CheckPackage</h4>
<p>Текст в формате XML содержит описание передаваемого для формирования 
чека. Структура описывает параметры и последовательность формирования 
фискального чека.</p>
<table id="checkpackage" class="withBorder" width="1494" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="139">Секция</th>
<th colspan="2" width="20%">Наименование атрибута</th>
<th width="108">Обязательное наличие в структуре</th>
<th width="127">Типы данных</th>
<th width="373">Описание атрибута</th>
<th width="400">Описание</th></tr><tr><td colspan="7"><b>CheckPackage</b></td></tr><tr><td rowspan="13">
<p style="TEXT-ALIGN: center">Parameters</p></td>
<td colspan="2" height="23">CashierName</td>
<td style="TEXT-ALIGN: center" height="23">Да</td>
<td style="TEXT-ALIGN: center" height="23">string</td>
<td height="23">ФИО и должность уполномоченного лица для проведения операции</td>
<td rowspan="13">Формирование нового чека с заданным атрибутами. При 
формирование чека ККТ должен проверять, что передаваемый код системы 
налогообложения доступен для данного фискализированного ФН.<br></td></tr><tr><td colspan="2" height="23">CashierVATIN</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">string</td>
<td height="23">ИНН уполномоченного лица для проведения операции</td></tr><tr><td colspan="2" height="87">PaymentType</td>
<td style="TEXT-ALIGN: center" height="87">Да</td>
<td style="TEXT-ALIGN: center" height="87">long</td>
<td height="87">Тип расчета<br>1 - Приход <br>2 - Возврат прихода<br>3 - Расход <br>4 - Возврат расхода</td></tr><tr><td colspan="2">TaxVariant</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Код системы налогообложения. <span><br>См. таблицу</span> <a href="#taxvariant">"Системы налогообложения"</a></td></tr><tr><td colspan="2">CustomerEmail</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Email покупателя</td></tr><tr><td colspan="2">CustomerPhone</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td><span class="blk">Телефонный номер </span>покупателя</td></tr><tr><td colspan="2">SenderEmail</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Адрес электронной почты отправителя чека </td></tr><tr><td colspan="2">AddressSettle</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Адрес проведения расчетов</td></tr><tr><td colspan="2">PlaceSettle</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Место проведения расчетов</td></tr><tr><td colspan="2">AgentSign</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Признак агента</td></tr><tr><td colspan="2">AgentData</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><a href="#agentdatastruc">Вложенная структура</a></td>
<td>Данные агента</td></tr><tr><td colspan="2">PurveyorData</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><a href="#agentdatastruc">Вложенная структура</a></td>
<td>Данные поставщика</td></tr><tr><td colspan="2">AdditionalAttribute</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Дополнительный реквизит чека</td></tr><tr><td rowspan="18">
<p style="TEXT-ALIGN: center">Positions</p></td>
<td rowspan="15" width="107">FiscalString</td>
<td>Name</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Наименование товара</td>
<td rowspan="15">Регистрирует фискальную строку с переданными реквизитами. <br>При печати длинных фискальных строк необходимо делать перенос на следующую строку.</td></tr><tr><td>Quantity</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">double</td>
<td>Количество товара</td></tr><tr><td>PriceWithDiscount</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">double</td>
<td>Цена единицы товара с учетом скидок/наценок</td></tr><tr><td>SumWithDiscount</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">double</td>
<td>Конечная сумма по позиции чека с учетом всех скидок/наценок</td></tr><tr><td>DiscountSum</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">double</td>
<td>Сумма скидок и наценок (если значение &gt; 0 то в чеке выводиться скидка, если значение &lt; 0 то наценка</td></tr><tr><td>Department</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Отдел, по которому ведется продажа</td></tr><tr><td>Tax</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Ставка НДС. Список значений:<br>"none" - БЕЗ НДС<br>"10" - НДС 10<br>"18" - НДС 18<br>"20" - НДС 20<br>"0" - НДС 0<br>"10/110" - расч.ставка 10/110<br>"18/118" - расч.ставка 18/118<br>"20/120" - расч.ставка 20/120</td></tr><tr><td>TaxSum</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">double</td>
<td>Сумма налогов.</td></tr><tr><td>SignMethodCalculation</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Признак способа расчета. <span><br>См. таблицу</span> <a href="#signmethodcalculation">"Признаки способа расчета"</a></td></tr><tr><td>SignCalculationObject</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Признак предмета расчета. <span><br>См. таблицу</span> <a href="#signcalculationobject">"Признаки предмета расчета"</a></td></tr><tr><td>SignSubjectCalculationAgent</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Признак агента по предмету расчета<br><span>См. таблицу</span><a href="#signsubjectcalculationagent"> "Признаки агента по предмету расчета"</a></td></tr><tr><td>AgentData</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><a href="#agentdatastruc">Вложенная структура</a></td>
<td>Данные агента</td></tr><tr><td>PurveyorData</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><a href="#agentdatastruc">Вложенная структура</a></td>
<td>Данные поставщика</td></tr><tr><td>MeasurementUnit</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Единица измерения предмета расчета</td></tr><tr><td>GoodCodeData</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><a href="#goodcodedata">Вложенная структура</a></td>
<td>Данные кода товарной номенклатуры</td></tr><tr><td width="107">TextString</td>
<td>Text</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Строка с произвольным текстом</td>
<td>Печать текстовой строки.</td></tr><tr><td rowspan="2" width="107">Barcode</td>
<td>BarcodeType</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Строка, определяющая тип штрихкода</td>
<td rowspan="2">Печать штрихкода. Осуществляется с автоматическим 
размером с выравниванием по центру чека. Тип штрихкода может иметь одно 
из следующих значений: EAN8, EAN13, CODE39, QR. В случае, если модель 
устройства не поддерживает печать штрихкода, выдается ошибка.&nbsp;<br></td></tr><tr><td>Barcode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Значение штрихкода</td></tr><tr><td rowspan="5">
<p style="TEXT-ALIGN: center">Payments</p></td>
<td colspan="2">Cash</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Сумма наличной оплаты</td>
<td rowspan="5">Параметры закрытия чека. Сумма всех видов оплат должна быть больше суммы открытого чека.&nbsp;<br></td></tr><tr><td colspan="2">ElectronicPayment</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Сумма электронной оплаты</td></tr><tr><td colspan="2">AdvancePayment </td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Сумма предоплатой (зачетом аванса)</td></tr><tr><td colspan="2"><span id="result_box8" class="short_text"><span>Credit</span></span></td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Сумма постоплатой (в кредит)</td></tr><tr><td colspan="2">CashProvision</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Сумма встречным предоставлением</td></tr></tbody></table><p>Данные агента. XML Структура.</p>
<table id="agentdatastruc" class="withBorder" width="1032" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="138">Типы данных</th>
<th width="539">Описание атрибута</th></tr><tr><td rowspan="8">AgentData</td></tr><tr><td width="207">PayingAgentOperation</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Операция платежного агента</td></tr><tr><td width="207">PayingAgentPhone</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Телефон платежного агента</td></tr><tr><td width="207">ReceivePaymentsOperatorPhone</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Телефон оператора по приему платежей</td></tr><tr><td width="207">MoneyTransferOperatorPhone</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Телефон оператора перевода</td></tr><tr><td width="207">MoneyTransferOperatorName</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Наименование оператора перевода</td></tr><tr><td width="207">MoneyTransferOperatorAddress</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Адрес оператора перевода</td></tr><tr><td width="207">MoneyTransferOperatorVATIN</td>
<td style="TEXT-ALIGN: center">string </td>
<td>ИНН оператора перевода</td></tr></tbody></table><p>Данные поставщика. XML Структура.</p>
<table id="purveyordatastruc" class="withBorder" width="1032" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="138">Типы данных</th>
<th width="539">Описание атрибута</th></tr><tr><td rowspan="4">PurveyorData</td></tr><tr><td width="207">PurveyorPhone</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Телефон поставщика</td></tr><tr><td width="207">PurveyorName</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Наименование поставщика</td></tr><tr><td width="207">PurveyorVATIN</td>
<td style="TEXT-ALIGN: center">string </td>
<td>ИНН поставщика</td></tr></tbody></table><p>Код товарной номенклатуры. XML Структура.</p>
<table id="goodcodedata" class="withBorder" width="1032" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="139">Типы данных</th>
<th width="549">Описание атрибута</th></tr><tr><td rowspan="4">GoodCodeData</td></tr><tr><td width="120">StampType</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Тип маркировки. Список значений:<br>"02" – изделия из меха</td></tr><tr><td width="120">Stamp</td>
<td style="TEXT-ALIGN: center">string </td>
<td>
<p class="MsoNormal">Контрольный идентификационный знак (КиЗ) </p></td></tr><tr><td width="120">GTIN</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Глобальный идентификатор торговой единицы (GTIN)</td></tr></tbody></table><h4>Описание структуры CheckCorrectionPackage</h4>
<p>Текст в формате XML содержит описание передаваемого для печати чека коррекции.</p>
<table id="checkcorrectionpackage" class="withBorder" width="1456" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="9%">Секция</th>
<th width="17%">Наименование атрибута</th>
<th width="7%">Обязательное наличие в структуре</th>
<th width="9%">Типы данных</th>
<th width="20%">Описание атрибута</th>
<th width="35%">Описание</th></tr><tr><td colspan="6"><b>CheckCorrectionPackage</b></td></tr><tr><td rowspan="18">
<p style="TEXT-ALIGN: center">Parameters</p></td>
<td>CashierName</td>
<td style="TEXT-ALIGN: center" height="23">Да</td>
<td style="TEXT-ALIGN: center" height="23">string </td>
<td height="23">ФИО и должность уполномоченного лица для проведения операции</td>
<td rowspan="18">Формирование нового чека с заданным атрибутами &nbsp;<br></td></tr><tr><td>CashierVATIN</td>
<td style="TEXT-ALIGN: center" height="39">Нет</td>
<td style="TEXT-ALIGN: center" height="39">string </td>
<td height="39">ИНН уполномоченного лица для проведения операции</td></tr><tr><td>CorrectionType</td>
<td style="TEXT-ALIGN: center" height="23">Да</td>
<td style="TEXT-ALIGN: center" height="23">long</td>
<td height="23">Тип коррекции<br>0 - самостоятельно<br>1 - по предписанию</td></tr><tr><td height="23">TaxVariant</td>
<td style="TEXT-ALIGN: center" height="23">Да</td>
<td style="TEXT-ALIGN: center" height="23">long</td>
<td height="23">Код системы налогообложения.<br><span>См. таблицу</span> <a href="#taxvariant">"Системы налогообложения"</a></td></tr><tr><td>PaymentType</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Тип расчета<br>1 - Приход <br>3 - Расход </td></tr><tr><td>СorrectionBaseName</td>
<td style="TEXT-ALIGN: center" height="39">Нет</td>
<td style="TEXT-ALIGN: center" height="39">string </td>
<td height="39">Наименование документа основания для коррекции</td></tr><tr><td>СorrectionBaseDate</td>
<td style="TEXT-ALIGN: center" height="39">Нет</td>
<td style="TEXT-ALIGN: center" height="39">datetime</td>
<td height="39">Дата документа основания для коррекции</td></tr><tr><td>СorrectionBaseNumber</td>
<td style="TEXT-ALIGN: center" height="39">Нет</td>
<td style="TEXT-ALIGN: center" height="39">string</td>
<td height="39">Номер документа основания для коррекции</td></tr><tr><td height="23">Sum</td>
<td style="TEXT-ALIGN: center" height="23">Да</td>
<td style="TEXT-ALIGN: center" height="23">decimal</td>
<td height="23">Сумма расчета, указанного в чеке</td></tr><tr><td height="23">SumTAX10</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">decimal</td>
<td height="23">Сумма НДС чека по ставке 10%</td></tr><tr><td height="23">SumTAX18</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">decimal</td>
<td height="23">Сумма НДС чека по ставке 18%</td></tr><tr><td height="23">SumTAX20</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">decimal</td>
<td height="23">Сумма НДС чека по ставке 20%</td></tr><tr><td height="23">SumTAX0</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">decimal</td>
<td height="23">Сумма расчета по ставке НДС 0%</td></tr><tr><td height="23">SumTAXNone</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">decimal</td>
<td height="23">Сумма расчета без НДС</td></tr><tr><td height="23">SumTAX110</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">decimal</td>
<td height="23">Сумма НДС чека по расч. ставке 10/110</td></tr><tr><td height="23">SumTAX118</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">decimal</td>
<td height="23">Сумма НДС чека по расч. ставке 18/118</td></tr><tr><td height="23">SumTAX120</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">decimal</td>
<td height="23">Сумма НДС чека по расч. ставке 20/120</td></tr><tr><td height="23">AdditionalAttribute</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">string</td>
<td height="23">Дополнительный реквизит чека</td></tr><tr><td rowspan="5">
<p style="TEXT-ALIGN: center">Payments</p></td>
<td>Cash</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Сумма наличной оплаты</td>
<td rowspan="5">Параметры закрытия чека. Чек коррекции может быть оплачен только одним видом оплаты и без сдачи.</td></tr><tr><td>ElectronicPayment</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Сумма электронной оплаты</td></tr><tr><td>AdvancePayment </td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Сумма предоплатой (зачетом аванса)</td></tr><tr><td><span id="result_box13" class="short_text"><span>Credit</span></span></td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Сумма постоплатой (в кредит)</td></tr><tr><td>CashProvision</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Сумма встречным предоставлением</td></tr></tbody></table><p>Пример текстового XML:</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;CheckCorrectionPackage&gt;
	&lt;Parameters PaymentType="1"/&gt;
	&lt;Payments Cash="200"/&gt;
&lt;/CheckCorrectionPackage&gt;
</pre>
<h4>Описание структуры DocumentPackage</h4>
<p>Текст в формате XML содержит описание текстового документа. Структура
 описывает последовательность формирования текстового документа.</p>
<table id="documentpackage" class="withBorder" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="9%">Секция</th>
<th colspan="2" width="20%">Наименование атрибута</th>
<th width="8%">Обязательное наличие в структуре</th>
<th width="11%">Типы данных</th>
<th width="16%">Описание атрибута</th>
<th width="35%">Описание</th></tr><tr><td colspan="3"><b>Document</b></td>
<td style="TEXT-ALIGN: center"><b>Да</b></td>
<td style="TEXT-ALIGN: center">&nbsp;</td>
<td colspan="2"><b>Описание чека</b></td></tr><tr><td rowspan="4">
<p style="TEXT-ALIGN: center">Positions</p></td></tr><tr><td width="9%">TextString</td>
<td>Text</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Строка с произвольным текстом</td>
<td>Печать текстовой строки.</td></tr><tr><td rowspan="2" width="9%">Barcode</td>
<td>BarcodeType</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Строка, определяющая тип штрихкода</td>
<td rowspan="2">Печать штрихкода. Осуществляется с автоматическим 
размером с выравниванием по центру чека. Тип штрихкода может иметь одно 
из следующих значений: EAN8, EAN13, CODE39, QR. В случае, если модель 
устройства не поддерживает печать штрихкода, выдается ошибка.&nbsp;<br></td></tr><tr><td>Barcode</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Значение штрихкода</td></tr></tbody></table><p>Пример текстового XML:</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Document&gt;
	&lt;Positions&gt;
		&lt;TextString Text="Участие в дисконтной системе"/&gt;
		&lt;TextString Text="Дисконтная карта: 00002345"/&gt;
		&lt;Barcode BarcodeType="EAN13" Barcode="2000021262157"/&gt;
	&lt;/Positions&gt;
&lt;/Document&gt;
</pre>
<h4>Описание структуры StatusParameters</h4>
<p>Текст в формате XML содержит описание параметров текущего состояния ККТ.</p>
<table id="statusparameters" class="withBorder" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="7%">Секция</th>
<th width="22%">Наименование атрибута</th>
<th width="9%">Обязательное наличие в структуре</th>
<th width="12%">Типы данных</th>
<th width="16%">Описание атрибута</th>
<th width="35%">Описание</th></tr><tr><td colspan="2"><b>StatusParameters</b></td>
<td style="TEXT-ALIGN: center"><b>Да</b></td>
<td style="TEXT-ALIGN: center">&nbsp;</td>
<td colspan="2"><b>Описание параметров</b></td></tr><tr><td rowspan="3">
<p style="TEXT-ALIGN: center">Parameters</p></td>
<td>BacklogDocumentsCounter</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">long</td>
<td>Количество непереданных документов</td>
<td rowspan="3">Описание параметров текущего состояния ККТ &nbsp;<br></td></tr><tr><td height="23">BacklogDocumentFirstNumber</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">long</td>
<td height="23">Номер первого непереданного документа</td></tr><tr><td height="23">BacklogDocumentFirstDateTime</td>
<td style="TEXT-ALIGN: center" height="23">Нет</td>
<td style="TEXT-ALIGN: center" height="23">datetime</td>
<td height="23">Дата и время первого из непереданных документов</td></tr></tbody></table><p>Пример текстового XML:</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;StatusParameters&gt;
	&lt;Parameters BacklogDocumentsCounter="1" BacklogDocumentFirstNumber="34" BacklogDocumentFirstDateTime="2016-12-09T16:13:42"/&gt;
&lt;/StatusParameters&gt;
</pre>
<h3 id="chapter239">3.7. Требования к разработке драйверов для принтеров чеков</h3>
<p>При работе с принтерами чеков поддерживаются следующие операции:</p>
<ul><li>Печать текстовых чеков (с возможностью печати штрихкодов); 
</li><li>Открытие денежного ящика. </li></ul><h5>Алгоритм печати чека.</h5>
<p>При подключении устройства командой <b>"Подключить" </b>драйвер инициализирует устройство печати, в том числе определяет кодировку для печати чеков.<br>При формировании чека конфигурация посылает команду <b>"НапечататьТекстовыйДокумент"</b> для печати текстового документа на принтере чеков. Содержимое печатаемого документа определяется структурой <b><a href="#documentpackage2">ДанныеДокумента</a></b>. </p>
<table id="table29" class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="23%">Название (alias)</th>
<th colspan="3" width="44%">Параметрыры</th>
<th rowspan="2" width="11%">Тип возвращаемого значения</th>
<th rowspan="2" width="20%">Описание метода </th></tr><tr><th width="18%">Имя</th>
<th width="13%">Тип</th>
<th width="13%">Описание</th></tr><tr><td rowspan="2" width="23%">НапечататьТекстовыйДокумент (PrintTextDocument)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="11%">BOOL</td>
<td rowspan="2" width="20%">Печать текстового документа (текстовый 
слип-чек, информационная квитанция). Драйвер может проверить доступность
 устройства, наличие бумаги и вернуть False в случае невозможности 
печати. После завершения печати в случае необходимости посылается 
команда отрезчику.</td></tr><tr><td width="18%"><b><a href="#documentpackage2">ДанныеДокумента<br>(DocumentPackage) <br>XML таблица </a></b></td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN]</td>
<td width="13%">XML структура - описание текстового документа.</td></tr><tr><td width="23%">ОткрытьДенежныйЯщик (OpenCashDrawer)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="11%">BOOL</td>
<td width="20%">Посылает команду на открытие денежного ящика, подключенного к принтеру чеков</td></tr><tr><td rowspan="2" width="23%">ПолучитьШиринуСтроки (GetLineLength) </td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="13%">STRING [IN] </td>
<td width="13%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="11%">BOOL</td>
<td rowspan="2" width="20%">Получить ширину строки в символах</td></tr><tr><td width="18%">ШиринаСтроки (LineLength) </td>
<td style="TEXT-ALIGN: center" width="13%">LONG [OUT]</td>
<td width="13%">Ширина строки в символах</td></tr></tbody></table><h4>Описание структуры DocumentPackage</h4>
<p>Текст в формате XML содержит описание текстового документа. Структура
 описывает последовательность формирования текстового документа.</p>
<table id="documentpackage2" class="withBorder" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="9%">Секция</th>
<th colspan="2" width="20%">Наименование атрибута</th>
<th width="9%">Обязательное наличие в структуре</th>
<th width="12%">Типы данных</th>
<th width="16%">Описание атрибута</th>
<th width="35%">Описание</th></tr><tr><td colspan="3"><b>Document</b></td>
<td style="TEXT-ALIGN: center"><b>Да</b></td>
<td style="TEXT-ALIGN: center">&nbsp;</td>
<td colspan="2"><b>Описание чека</b></td></tr><tr><td rowspan="4">
<p style="TEXT-ALIGN: center">Positions</p></td></tr><tr><td width="9%">TextString</td>
<td>Text</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Строка с произвольным текстом</td>
<td>Печать текстовой строки.</td></tr><tr><td rowspan="2" width="9%">Barcode</td>
<td>BarcodeType</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Строка, определяющая тип штрихкода</td>
<td rowspan="2">Печать штрихкода. Осуществляется с автоматическим 
размером с выравниванием по центру чека. Тип штрихкода может иметь одно 
из следующих значений: EAN8, EAN13, CODE39, QR. В случае, если модель 
устройства не поддерживает печать штрихкода, выдается ошибка.&nbsp;<br></td></tr><tr><td>Barcode</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string </td>
<td>Значение штрихкода</td></tr></tbody></table><p>Пример текстового XML:</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Document&gt;
	&lt;Positions&gt;
		&lt;TextString Text="Участие в дисконтной системе"/&gt;
		&lt;TextString Text="Дисконтная карта: 00002345"/&gt;
		&lt;Barcode BarcodeType="EAN13" Barcode="2000021262157"/&gt;
	&lt;/Positions&gt;
&lt;/Document&gt;
</pre>
<h3 id="chapter250">3.8. Требования к разработке драйверов для принтеров этикеток</h3>
<p>Работа с принтером печати этикеток заключается в выгрузке в драйвер 
сформированного пакета данных об этикетах. Пакет формируется средствами 
конфигурации и содержит описание форматирования шаблона этикетки и 
набора данных для формирования этикеток. Драйвер печати этикеток должен 
предусматривать обработку сформированного массива этикеток несколькими 
итерациями, путем последовательных вызовов метода <b>«</b>ПечатьЭтикеток <b>(PrintLabels)»</b>
 с пакетами данных определенного размера (например, по 100 этикеток) и с
 дополнительным параметром, определяющим статус пакета ("first" - первый
 пакет,&nbsp; "regular" - очередной, "last" - последний пакет). </p>
<table id="table18" class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="28%">Название (alias)</th>
<th colspan="3" width="41%">Параметры</th>
<th rowspan="2" width="11%">Тип возвращаемого значения</th>
<th rowspan="2" width="20%">Описание метода </th></tr><tr><th width="18%">Имя</th>
<th width="10%">Тип</th>
<th width="13%">Описание</th></tr><tr><td width="28%">ИнициализацияПринтера (InitializePrinter)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Идентификатор устройства</td>
<td width="11%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td width="20%">Первичная инициализация принтера этикеток (загрузка шрифтов, установка параметров печати, установка нужной кодовой страницы)</td></tr><tr><td rowspan="3" width="28%">ПечатьЭтикеток (PrintLabels)</td>
<td width="18%">ИДУстройства (DeviceID)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Идентификатор устройства</td>
<td rowspan="3" width="11%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td rowspan="3" width="20%">Печать набора этикеток на принтере этикеток</td></tr><tr><td width="18%"><a href="#labelstable"><b>ТаблицаЭтикеток<br>(LabelsTable)<br>XML таблица </b></a></td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Таблица этикеток</td></tr><tr><td width="18%">СтатусПакета (PackageStatus)</td>
<td width="10%">
<p style="TEXT-ALIGN: center">STRING [IN]</p></td>
<td width="13%">Статус пакета * *</td></tr></tbody></table><p>* - Строка, определяющая статус пакета, имеет одно из значений: "first", "regular", "last".</p><a name="labelstable"></a>
<h5>ТаблицаЭтикеток (LabelsTable)</h5>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING. <br><br>Структуру передаваемого пакета можно разделить на две составляющие секции: </p>
<ul><li><b>Formatting</b> - Секция описания форматирования шаблона 
этикетки. Присутствует однократно и только в первом пакете и описывает 
поля (элементы "Text", "Barcode", "Image" и "UserData"), входящие в 
шаблон этикетки, и их форматирование. 
</li><li><b>Labels</b> - Секция набора данных для формирования этикеток.
 Секция присутствует в каждом пакете только один раз, и содержит данные 
для заполнения каждой их этикеток которые необходимо распечатать. </li></ul><table id="table19" class="withBorder" width="67%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="10%">Секция</th>
<th width="9%">&nbsp;</th>
<th width="10%">Наименование<br>атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="8%">Типы данных</th>
<th width="46%">Описание атрибута</th></tr><tr><td rowspan="45" height="200">
<p style="TEXT-ALIGN: center"><b>Formatting</b></p></td>
<td rowspan="2" height="50">
<p style="TEXT-ALIGN: center">Formatting</p></td>
<td style="TEXT-ALIGN: center" height="25">
<p style="TEXT-ALIGN: center">Width</p></td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Ширина шаблона этикетки в миллиметрах.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">
<p style="TEXT-ALIGN: center">Height</p></td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Высота шаблона этикетки в миллиметрах.</td></tr><tr><td rowspan="17" height="194">
<p style="TEXT-ALIGN: center">Text</p></td>
<td style="TEXT-ALIGN: center" height="25">FieldName</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Уникальное имя поля в шаблоне этикетки.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Left</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Позиция левой границы поля по оси X (в миллиметрах).</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Top</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Позиция верхней границы поля по оси Y (в миллиметрах).</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Width</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Ширина поля в миллиметрах.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Height</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Высота поля в миллиметрах.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Orientation</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">long</td>
<td height="25">
<p style="TEXT-ALIGN: left">Ориентация содержимого поля.<br>Имеет одно из следующих значений&nbsp;0, 90,&nbsp;180,&nbsp;270. По умолчанию 0.</p></td></tr><tr><td style="TEXT-ALIGN: center" height="25">FontName</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Имя шрифта (не имя файла-шрифта). По умолчанию предустановленный на принтере шрифт.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">FontSize</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">long</td>
<td height="25">Размер шрифта в кеглях.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">FontStyle</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Стиль шрифта.&nbsp;Имеет одно или несколько значений 
через разделитель&nbsp;-пробел:&nbsp;"Bold", "Italic", "Underline" и 
"StrikeOut". По умолчанию "".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Border</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Строка, определяющая рамки поля. Имеет одно или 
несколько значений через разделитель&nbsp;- пробел:&nbsp;"Left", "Top", 
"Right" и "Bottom". По умолчанию "".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">BorderWidth</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">long</td>
<td height="25">Толщина рамки в пикселах, по умолчанию 1.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">BorderStyle</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Стиль рамки. Имеет одно из значений: "Dotted", "Dashed", "Solid" или "Double". По умолчанию "Solid".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Align</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Горизонтальное выравнивание текста. Имеет одно из значений: "Left", "Center" или "Right". По умолчанию = "Left".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">VAlign</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Вертикальное выравнивание текста. Имеет одно из значений: "Top", "Center" или "Bottom". По умолчанию = "Top".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Multiline</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">boolean</td>
<td height="25">Многострочность. По умолчанию "false".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Static</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">boolean</td>
<td height="25">Статичность (одинаковое значение для всех экземпляров этикетки). По умолчанию "false".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Value</td>
<td style="TEXT-ALIGN: center" height="25">При Static = "true"</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">В случае когда Static = "true", выступает в роли общего 
значения. Иначе как значение по умолчанию, т.е. используется когда для 
Labels.Label.Record.Value не установлено значение.</td></tr><tr><td rowspan="12" height="154">
<p style="TEXT-ALIGN: center">Barcode</p></td>
<td style="TEXT-ALIGN: center" height="25">FieldName</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Уникальное имя поля в шаблоне этикетки</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Type</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Тип штрихкода. Имеет одно из значений: 
&nbsp;"EAN8","EAN13",&nbsp;"EAN128", "Code39", 
"Code128","Code16k","Code93","PDF417","DataMatrix" ,"QRCode", 
"ITF14","EAN13Addon2","EAN13Addon5","GS1DataBarExpandedStacked".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Left</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Позиция левой границы поля по оси X (в миллиметрах).</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Top</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Позиция верхней границы поля по оси Y (в миллиметрах).</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Width</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Ширина поля в миллиметрах.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Height</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Высота поля в миллиметрах.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Orientation</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">long</td>
<td height="25">Ориентация содержимого поля. <br>Имеет одно из следующих значений:&nbsp;0, 90,&nbsp;180,&nbsp;270. По умолчанию 0.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">PrintHRI</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">boolean</td>
<td height="25">Флаг наличия подписи в штрихкоде. По умолчанию "true".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">FontSize</td>
<td style="TEXT-ALIGN: center" height="25">При PrintHRI = "true"</td>
<td style="TEXT-ALIGN: center" height="25">long</td>
<td height="25">Размер шрифта в кеглях.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">CheckSymbol</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">boolean</td>
<td height="25">Наличие контрольного символа для тех типов штрих кодов, для которых возможно управление его наличием. По умолчанию "true".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Static</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">boolean</td>
<td height="25">Статичность. По умолчанию "false".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Value</td>
<td style="TEXT-ALIGN: center" height="25">При static = "true"</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">В случае когда Static = "true", выступает в роли общего 
значения. Иначе как значение по умолчанию, т.е. используется когда для 
Labels.Label.Record.Value не установлено значение.</td></tr><tr><td style="TEXT-ALIGN: center" rowspan="11" height="99">Image</td>
<td style="TEXT-ALIGN: center" height="25">FieldName</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Уникальное имя поля в шаблоне этикетки.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Left</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Позиция левой границы поля по оси X (в миллиметрах).</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Top</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Позиция верхней границы поля по оси Y (в миллиметрах).</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Width</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Ширина поля в миллиметрах.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Height</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">decimal</td>
<td height="25">Высота поля в миллиметрах.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Orientation</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">long</td>
<td height="25">Ориентация содержимого поля. <br>Имеет одно из следующих значений:&nbsp;0, 90,&nbsp;180,&nbsp;270. По умолчанию 0.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Border</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Строка, определяющая рамки поля. Имеет одно или 
несколько значений через разделитель&nbsp;- 
пробел:&nbsp;"Left",&nbsp;"Top",&nbsp;"Right" или&nbsp;"Bottom". По 
умолчанию "".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">BorderWidth</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">long</td>
<td height="25">Толщина рамки в пикселах, по умолчанию 1.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">BorderStyle</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Стиль рамки. Имеет одно из значений: "Dotted", "Dashed", "Solid", "Double". По умолчанию "Solid".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Static</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">boolean</td>
<td height="25">Статичность. По умолчанию "false".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Value</td>
<td style="TEXT-ALIGN: center" height="25">При Static = "true"</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">В случае когда Static = "true", выступает в роли общего 
значения. Иначе как значение по умолчанию, т.е. используется когда для 
Labels.Label.Record.Value не установлено значение. Кодируется текстом в 
кодировке Base64.</td></tr><tr><td rowspan="3" height="33">
<p style="TEXT-ALIGN: center">UserData</p></td>
<td style="TEXT-ALIGN: center" height="25">FieldName</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Уникальное имя поля в шаблоне этикетки.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Static</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">boolean</td>
<td height="25">Статичность. По умолчанию "false".</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Value</td>
<td style="TEXT-ALIGN: center" height="25">При Static = "true"</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">В случае когда Static = "true", выступает в роли общего 
значения. Иначе как значение по умолчанию, т.е. используется когда для 
Labels.Label.Record.Value не установлено значение.</td></tr><tr><td rowspan="3" height="75">
<p style="TEXT-ALIGN: center"><b>Labels</b></p></td>
<td style="TEXT-ALIGN: center" height="25">Label</td>
<td style="TEXT-ALIGN: center" height="25">Quantity</td>
<td style="TEXT-ALIGN: center" height="25">Нет</td>
<td style="TEXT-ALIGN: center" height="25">long</td>
<td height="25">Указывает необходимое для этикетки количество копий для печати. По умолчанию 1.</td></tr><tr><td style="TEXT-ALIGN: center" rowspan="2" height="50">Record</td>
<td style="TEXT-ALIGN: center" height="25">FieldName</td>
<td style="TEXT-ALIGN: center" height="25">Да</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Уникальное имя поля в шаблоне этикетки.</td></tr><tr><td style="TEXT-ALIGN: center" height="25">Value</td>
<td style="TEXT-ALIGN: center" height="25">При Formatting.Static = "false"</td>
<td style="TEXT-ALIGN: center" height="25">string</td>
<td height="25">Значение поля в шаблоне этикетки. Для элемента "Image" картинка кодируется текстом в кодировке Base64.</td></tr></tbody></table><p>Пример текстового XML, содержащий данные:&nbsp;&nbsp; </p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml"> 
&lt;?xml version="1.0"?&gt; 
 &lt;Data&gt; 
    &lt;Formatting Width = "60" Height="40"&gt;
	&lt;Text FieldName="Наименование" Left="1" Top="1" Width="55" Height="10" FontName="Tahoma" FontSize="8" FontStyle="Italic"/&gt;
	&lt;Text FieldName="Цена" Left="1" Top="11" Width="55" Height="10" FontName="Tahoma" FontSize="8" FontStyle="Bold Italic" Border="Left Top Right Bottom"/&gt;
	&lt;Barcode FieldName="Штрихкод" Type="EAN13" Left="1" Top="22" Height="10" PrintHRI="true" FontSize="8"/&gt;
   &lt;/Formatting&gt;
   &lt;Labels&gt;
        &lt;Label Quantity="2"&gt;
	    &lt;Record FieldName="Наименование" Value="Блокнот для заметок"/&gt;
	    &lt;Record FieldName="Цена" Value="43,5"/&gt;
	    &lt;Record FieldName="Штрихкод" Value="4008110271538"/&gt;
        &lt;/Label&gt;
        &lt;Label Quantity="3"&gt;
	    &lt;Record FieldName="Наименование" Value="Яблоки антоновка в банке"/&gt;
            &lt;Record FieldName="Цена" Value="78,5"/&gt;
	    &lt;Record FieldName="Штрихкод" Value="2900001355679"/&gt; 
        &lt;/Label&gt;
   &lt;/Labels&gt; 
&lt;/Data&gt; </pre><br><h3 id="chapter237">3.9. Требования к разработке драйверов устройств ввода (сканеры штрихкода, считыватели магнитных карт и т.д.)</h3>
<p>Данные устройства реализуют функцию автоматического считывания 
закодированной различными способами информации и асинхронной передачи ее
 в конфигурацию "1С:Предприятия". Драйвера устройств такого типа не 
предусматривают специфических для оборудования методов, которые можно 
вызывать из конфигураций.<br><br>Работа с драйвером строится следующим образом: </p>
<ol><li>При инициализации объекта компоненты ему передается указатель на
 интерфейс "1С:Предприятия", с помощью которого можно вызывать метод: <br><i><b>HRESULT ExternalEvent(BSTR bstrWho, BSTR bstrWhat, BSTR bstrData)</b></i> 
</li><li>При каждом успешном считывании кода сканером или считывателем драйвер должен вызывать метод <i><b>HRESULT ExternalEvent(BSTR bstrWho, BSTR bstrWhat, BSTR bstrData)</b></i>. 
</li><li>Переданные данные размещаются в очереди сообщений. Сообщения из
 очереди обрабатываются только после обработки всех системных сообщений 
"1С:Предприятия". При переполнении очереди полученные сообщения 
игнорируются. </li></ol><p>Описание методов, доступных для асинхронного вызова из драйвера*</p>
<table class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="19%">Название (alias)</th>
<th colspan="3" width="44%">Параметрыры</th>
<th rowspan="2" width="10%">Тип возвращаемого значения</th>
<th rowspan="2" width="24%">Описание метода </th></tr><tr><th width="8%">Имя</th>
<th width="9%">Тип</th>
<th width="27%">Описание</th></tr><tr><td rowspan="3" width="19%">ExternalEvent</td>
<td width="8%">bstrWho</td>
<td style="TEXT-ALIGN: center" width="9%">BSTR [IN]</td>
<td width="27%">Уникальный идентификатор подключенного устройства **</td>
<td rowspan="3" width="10%">
<p style="TEXT-ALIGN: center">HRESULT</p></td>
<td rowspan="3" width="24%">Помещает данные, полученные от сканера/считывателя в очередь сообщений </td></tr><tr><td width="8%">bstrWhat</td>
<td style="TEXT-ALIGN: center" width="9%">BSTR [IN]</td>
<td width="27%">Тип сообщения/тип данных ***</td></tr><tr><td width="8%">bstrData</td>
<td style="TEXT-ALIGN: center" width="9%">BSTR [IN]</td>
<td width="27%">Считанные устройством данные</td></tr><tr><td width="19%">SetEventBufferDepth</td>
<td width="8%">lDepth</td>
<td style="TEXT-ALIGN: center" width="9%">BSTR [IN]</td>
<td width="27%">Максимальное число сообщений в очереди</td>
<td width="10%">
<p style="TEXT-ALIGN: center">HRESULT</p></td>
<td width="24%">Устанавливает длину очереди сообщений</td></tr></tbody></table><p>* - Описание остальных функций, доступных для вызова из драйвера, см. в документе «Технология создания внешних компонент»<br>** - В параметре <b>bstrWho</b> драйвер передает уникальный идентификатор подключенного устройства.<br>*** - Параметр <b>bstrWhat</b> используется для поддержки событий различных типов. Для сканеров должен содержать строку <b>«Штрихкод»</b> (<b>«Barcode»</b>). Для считывателей магнитных карт, соответственно: <b>«ДанныеКарты» </b>(<b>«TracksData»)</b>. В случае ошибки этот параметр должен содержать значение <b>"ОшибкаДрайвера"</b> (<b>«DriverError»</b>). В этом случае параметр <b>bstrData</b> должен содержать описание ошибки. <br>&nbsp; </p>
<h3 id="chapter238">3.10. Требования к разработке драйверов для эквайринговых терминалов</h3>
<p>При работе с эквайринговыми системами поддерживаются следующие операции:</p>
<ul><li>Оплата картой 
</li><li>Отмена платежа по карте 
</li><li>Возврат платежа по карте 
</li><li>Блокирование суммы на счете карты 
</li><li>Списание заблокированной суммы со счета карты 
</li><li>Отмена блокировки суммы на счете карты 
</li><li>Аварийная отмена операции 
</li><li>Получение итогов дня по картам </li></ul><p><i><b>ВНИМАНИЕ: По 
требованиям банка эквайринговый терминал полный номер карты может не 
предоставлять, в таком случае часть цифр номер карты заменяется 
звездочками. </b></i></p>
<h5>Оплата картой</h5>
<p>При необходимости оплатить покупку платежной картой Система вызывает метод <b>"ОплатитьПлатежнойКартой"</b>,
 передавая во входном параметре сумму к оплате для списания с карты и 
номер считанной карты. Если считывание карты будет производиться на 
терминале (PIN-Pad’e) банка, то в параметре номера считанной карты 
передается пустая строка. Драйвер в ответ возвращает результат 
выполнения функции, код RRN, код авторизации и текст слип-чека. Текст 
слип-чека может быть самостоятельно распечатан терминалом на встроенном 
принтере или распечатан на ФР (определяется методом <b>ПечатьКвитанцийНаТерминале</b>).
 После выполнения функции в параметре номера считанной карты 
возвращается номер прочитанной на терминале (PIN-Pad’e) банка карты.</p>
<h5>Отмена платежа по карте</h5>
<p>Если происходит отмена платежа, то Система вызывает метод <b>"ОтменитьПлатежПоПлатежнойКарте"</b>,
 передавая во входных параметрах сумму, которая была указана для 
списания с карты, номер считанной карты, код RRN операции, по которой 
совершается отмена, и код авторизации. Драйвер в ответ возвращает 
результат выполнения функции. Если считывание карты будет производиться 
на терминале (PIN-Pad’e) банка, то в параметре номера считанной карты 
передается пустая строка. После выполнения функции в параметре номера 
считанной карты возвращается номер прочитанной на терминале (PIN-Pad’e) 
банка карты.</p>
<h5>Возврат платежа по карте</h5>
<p>При возврате платежа Система вызывает метод <b>"ВернутьПлатежПоПлатежнойКарте"</b>,
 передавая во входном параметре сумму к возврату на карту, номер 
считанной карты, код RRN операции, по которой совершается возврат, и код
 авторизации. Драйвер в ответ возвращает результат выполнения функции, а
 в выходные параметры записывает код RRN, код авторизации. Если 
считывание карты будет производиться на терминале (PIN-Pad’e) банка, то в
 параметре номера считанной карты передается пустая строка. После 
выполнения функции в параметре номера считанной карты возвращается номер
 прочитанной на терминале (PIN-Pad’e) банка карты.</p>
<h5>Блокирование суммы на счете карты</h5>
<p>При необходимости заблокировать сумму на счете платежной карты Система вызывает метод <b>"ПреавторизацияПоПлатежнойКарте"</b>,
 передавая во входном параметре сумму для блокировки и номер считанной 
карты. Если считывание карты будет производиться на терминале 
(PIN-Pad’e) банка, то в параметре номера считанной карты передается 
пустая строка. Драйвер в ответ возвращает результат выполнения функции, 
код RRN, код авторизации и текст слип-чека. Текст слип-чека может быть 
самостоятельно распечатан терминалом на встроенном принтере или 
распечатан на ФР (определяется методом <b>ПечатьКвитанцийНаТерминале</b>).
 После выполнения функции в параметре номера считанной карты 
возвращается номер прочитанной на терминале (PIN-Pad’e) банка карты.</p>
<h5>Списание заблокированной суммы со счета карты</h5>
<p>При необходимости списания заблокированной суммы со счета платежной карты Система вызывает метод <b>"ЗавершитьПреавторизациюПоПлатежнойКарте"</b>,
 передавая во входном параметре сумму для списания с карты, номер 
считанной карты, код RRN операции блокировки и код авторизации. Если 
считывание карты будет производиться на терминале (PIN-Pad’e) банка, то в
 параметре номера считанной карты передается пустая строка. Драйвер в 
ответ возвращает результат выполнения функции, код RRN, код авторизации и
 текст слип-чека. Текст слип-чека может быть самостоятельно распечатан 
терминалом на встроенном принтере или распечатан на ФР (определяется 
методом <b>ПечатьКвитанцийНаТерминале</b>). После выполнения функции в 
параметре номера считанной карты возвращается номер прочитанной на 
терминале (PIN-Pad’e) банка карты.</p>
<h5>Отмена блокировки суммы на счете карты</h5>
<p>Для отмены блокирования суммы на счете платежной карты Система вызывает метод <b>"ОтменитьПреавторизациюПоПлатежнойКарте"</b>,
 передавая во входном параметре сумму для списания с карты, номер 
считанной карты, код RRN операции блокировки и код авторизации. Если 
считывание карты будет производиться на терминале (PIN-Pad’e) банка, то в
 параметре номера считанной карты передается пустая строка. Драйвер в 
ответ возвращает результат выполнения функции, код RRN, код авторизации и
 текст слип-чека. Текст слип-чека может быть самостоятельно распечатан 
терминалом на встроенном принтере или распечатан на ФР (определяется 
методом <b>ПечатьКвитанцийНаТерминале</b>). После выполнения функции в 
параметре номера считанной карты возвращается номер прочитанной на 
терминале (PIN-Pad’e) банка карты.</p>
<h5>Аварийная отмена операции</h5>
<p>Если операция по платежной карте прошла успешно и слип-чек должен быть распечатан на ФР (определяется методом <b>ПечатьКвитанцийНаТерминале</b>), но возникла ошибка печати, то операция по карте должна быть аварийно отменена. </p>
<h5>Получение итогов дня по картам</h5>
<p>Для получения текста отчета Система вызывает метод <b>"ИтогиДняПоКартам"</b>. Драйвер возвращает результат выполнения функции и текст отчета.&nbsp;<br></p>
<table id="table15" class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="28%">Название (alias)</th>
<th colspan="3" width="43%">Параметры</th>
<th rowspan="2" width="11%">Тип возвращаемого значения</th>
<th rowspan="2" width="16%">Описание метода </th></tr><tr><th width="15%">Имя</th>
<th width="12%">Тип</th>
<th width="16%">Описание</th></tr><tr><td rowspan="7" width="28%">ОплатитьПлатежнойКартой (PayByPaymentCard)</td>
<td width="15%">ИДУстройства (DeviceID)</td>
<td width="12%">STRING [IN] </td>
<td width="16%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="7" width="11%">BOOL</td>
<td rowspan="7" width="16%">Метод осуществляет авторизацию оплаты по карте</td></tr><tr><td width="15%">НомерКарты (CardNumber)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Номер Карты / Данные карты*</td></tr><tr><td width="15%" height="46">Сумма (Amount)</td>
<td width="12%" height="46">DOUBLE [IN]</td>
<td width="16%" height="46">Сумма операции по карте</td></tr><tr><td width="15%">НомерЧека (ReceiptNumber)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Номер чека</td></tr><tr><td width="15%">КодRRN (RRNCode)</td>
<td width="12%">STRING [OUT]</td>
<td width="16%">Уникальный код транзакции RRN </td></tr><tr><td width="15%">КодАвторизации (AuthorizationCode)</td>
<td width="12%">STRING [OUT]</td>
<td width="16%">Код авторизации транзакции</td></tr><tr><td width="15%">ТекстКвитанции (Slip)</td>
<td width="12%">STRING [OUT]</td>
<td width="16%">Текст квитанции, сформированный Эквайринговым ПО **</td></tr><tr><td rowspan="7" width="28%">ВернутьПлатежПоПлатежнойКарте (ReturnPaymentByPaymentCard)</td>
<td width="15%">ИДУстройства (DeviceID)</td>
<td width="12%">STRING [IN] </td>
<td width="16%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="7" width="11%">BOOL</td>
<td rowspan="7" width="16%">Метод осуществляет возврат платежа по карте</td></tr><tr><td width="15%">НомерКарты (CardNumber)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Номер Карты / Данные карты*</td></tr><tr><td width="15%">Сумма (Amount)</td>
<td width="12%">DOUBLE [IN]</td>
<td width="16%">Сумма операции по карте</td></tr><tr><td width="15%">НомерЧека (ReceiptNumber)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Номер чека</td></tr><tr><td width="15%">КодRRN (RRNCode)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Уникальный код транзакции RRN </td></tr><tr><td width="15%">КодАвторизации (AuthorizationCode)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Код авторизации транзакции</td></tr><tr><td width="15%">ТекстКвитанции (Slip)</td>
<td width="12%">STRING [OUT]</td>
<td width="16%">Текст квитанции, сформированный Эквайринговым ПО **</td></tr><tr><td rowspan="7" width="28%">ОтменитьПлатежПоПлатежнойКарте (CancelPaymentByPaymentCard)</td>
<td width="15%">ИДУстройства (DeviceID)</td>
<td width="12%">STRING [IN] </td>
<td width="16%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="7" width="11%">BOOL</td>
<td rowspan="7" width="16%">Метод осуществляет отмену платежа по карте</td></tr><tr><td width="15%" height="35">НомерКарты (CardNumber)</td>
<td width="12%" height="35">STRING [IN/OUT]</td>
<td width="16%" height="35">Номер Карты / Данные карты*</td></tr><tr><td width="15%">Сумма (Amount)</td>
<td width="12%">DOUBLE [IN]</td>
<td width="16%">Сумма операции по карте</td></tr><tr><td width="15%">НомерЧека (ReceiptNumber)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Номер чека</td></tr><tr><td width="15%">КодRRN (RRNCode)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Уникальный код транзакции RRN </td></tr><tr><td width="15%">КодАвторизации (AuthorizationCode)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Код авторизации транзакции</td></tr><tr><td width="15%">ТекстКвитанции (Slip)</td>
<td width="12%">STRING [OUT]</td>
<td width="16%">Текст квитанции, сформированный Эквайринговым ПО **</td></tr><tr><td rowspan="7" width="28%">ПреавторизацияПоПлатежнойКарте (AuthorisationByPaymentCard)</td>
<td width="15%">ИДУстройства (DeviceID)</td>
<td width="12%">STRING [IN] </td>
<td width="16%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="7" width="11%">BOOL</td>
<td rowspan="7" width="16%">Метод осуществляет пре-авторизацию – блокирование суммы на счете карты</td></tr><tr><td width="15%">НомерКарты (CardNumber)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Номер Карты / Данные карты*</td></tr><tr><td width="15%">Сумма (Amount)</td>
<td width="12%">DOUBLE [IN]</td>
<td width="16%">Сумма операции по карте</td></tr><tr><td width="15%">НомерЧека (ReceiptNumber)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Номер чека</td></tr><tr><td width="15%">КодRRN (RRNCode)</td>
<td width="12%">STRING [OUT]</td>
<td width="16%">Уникальный код транзакции RRN </td></tr><tr><td width="15%">КодАвторизации (AuthorizationCode)</td>
<td width="12%">STRING [OUT]</td>
<td width="16%">Код авторизации транзакции</td></tr><tr><td width="15%">ТекстКвитанции (Slip)</td>
<td width="12%">STRING [OUT]</td>
<td width="16%">Текст квитанции, сформированный Эквайринговым ПО **</td></tr><tr><td rowspan="7" width="28%">ЗавершитьПреавторизациюПоПлатежнойКарте (AuthConfirmationByPaymentCard)</td>
<td width="15%">ИДУстройства (DeviceID)</td>
<td width="12%">STRING [IN] </td>
<td width="16%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="7" width="11%">BOOL</td>
<td rowspan="7" width="16%">Метод завершает пре-авторизацию – списывает сумму со счета карты</td></tr><tr><td width="15%">НомерКарты (CardNumber)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Номер Карты / Данные карты*</td></tr><tr><td width="15%">Сумма (Amount)</td>
<td width="12%">DOUBLE [IN]</td>
<td width="16%">Сумма операции по карте</td></tr><tr><td width="15%">НомерЧека (ReceiptNumber)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Номер чека</td></tr><tr><td width="15%">КодRRN (RRNCode)</td>
<td width="12%">STRING [IN]</td>
<td width="16%">Уникальный код транзакции RRN </td></tr><tr><td width="15%">КодАвторизации (AuthorizationCode)</td>
<td width="12%">STRING [IN]</td>
<td width="16%">Код авторизации транзакции</td></tr><tr><td width="15%">ТекстКвитанции (Slip)</td>
<td width="12%">STRING [OUT]</td>
<td width="16%">Текст квитанции, сформированный Эквайринговым ПО **</td></tr><tr><td rowspan="7" width="28%">ОтменитьПреавторизациюПоПлатежнойКарте (CancelAuthorisationByPaymentCard)</td>
<td width="15%">ИДУстройства (DeviceID)</td>
<td width="12%">STRING [IN] </td>
<td width="16%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="7" width="11%">BOOL</td>
<td rowspan="7" width="16%">Метод отменяет пре-авторизацию – разблокирует сумму на счете карты</td></tr><tr><td width="15%">НомерКарты (CardNumber)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Номер Карты / Данные карты*</td></tr><tr><td width="15%">Сумма (Amount)</td>
<td width="12%">DOUBLE [IN] </td>
<td width="16%">Сумма операции по карте</td></tr><tr><td width="15%">НомерЧека (ReceiptNumber)</td>
<td width="12%">STRING [IN/OUT]</td>
<td width="16%">Номер чека</td></tr><tr><td width="15%">КодRRN (RRNCode)</td>
<td width="12%">STRING [IN] </td>
<td width="16%">Уникальный код транзакции RRN </td></tr><tr><td width="15%">КодАвторизации (AuthorizationCode)</td>
<td width="12%">STRING [IN] </td>
<td width="16%">Код авторизации транзакции</td></tr><tr><td width="15%">ТекстКвитанции (Slip)</td>
<td width="12%">STRING [OUT]</td>
<td width="16%">Текст квитанции, сформированный Эквайринговым ПО **</td></tr><tr><td width="28%">АварийнаяОтменаОперации (EmergencyReversal)</td>
<td width="15%">ИДУстройства (DeviceID)</td>
<td width="12%">STRING [IN] </td>
<td width="16%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="11%">BOOL</td>
<td width="16%">Метод отменяет последнюю транзакцию</td></tr><tr><td rowspan="2" width="28%">ИтогиДняПоКартам (Settlement)</td>
<td width="15%">ИДУстройства (DeviceID)</td>
<td width="12%">STRING [IN] </td>
<td width="16%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="11%">BOOL</td>
<td rowspan="2" width="16%">Производится сверка итогов дня</td></tr><tr><td width="15%">ТекстКвитанции (Slip)</td>
<td width="12%">STRING [OUT]</td>
<td width="16%">Текст квитанции, сформированный Эквайринговым ПО **</td></tr><tr><td width="15%">ПечатьКвитанцийНаТерминале (PrintSlipOnTerminal)</td>
<td width="18%">
<p style="TEXT-ALIGN: center">-</p></td>
<td width="10%">
<p style="TEXT-ALIGN: center">-</p></td>
<td width="13%">
<p style="TEXT-ALIGN: center">-</p></td>
<td width="12%">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td width="16%">Возвращает будет ли&nbsp; терминал самостоятельно печатает квитанции на своем принтере для операций</td></tr></tbody></table><p>*
 - Если информация, считанная с карты, передается в эквайринговую 
систему из конфигурации "1С:Предприятия", содержание этого поля должно 
отвечать требованиям конкретной эквайринговой системы.<br>** - Если при 
печати необходимо формировать несколько отдельных документов, в тексте 
для их разделения должна присутствовать строка "[отрезка]" или 
"[cut]".&nbsp;<span style="FONT-SIZE: 10pt; FONT-FAMILY: Microsoft Sans Serif"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><i>Текст не должен содержать управляющие символы с кодами 1-8, 11-12, 14-31.</i></b></span><br></p>
<h3 id="chapter236">3.11. Требования к разработке драйверов для RFID считывателей</h3>
<p>Работа с RFID считывателями в "1С:Предприятие" осуществляется в 
асинхронном режиме. Открытие новой сессии считывания меток 
осуществляется&nbsp;командой <b>«ОткрытьСессиюRFID»</b>. О всех новых 
метках попадающих в зону действия антенны считывателя передаются 
уведомление в "1С:Предприятие" внешним событием. Внешним событием 
передается идентификатор пакета, содержащий данные меток. После 
обработки внешнего события "1С:Предприятие" получает данные меток 
вызовом метода <b>«ПолучитьДанныеМетокRFID»</b> по идентификатору пакета (вызов данного метода служит подтверждением, что данные были доставлены). <br>Закрытие сессии считывания меток осуществляется командой <b>«ЗакрытьСессиюRFID»</b>. Запись данных в метку осуществляется в рамках открытой сессии методом <b>«ЗаписатьДанныеВМеткуRFID»</b>. Метка идентифицируется по <i><b>TID</b></i> и <i><b>EPC</b></i>. В метод передаются данные для записи и необходимый банк памяти (<i><b>EPC</b></i> или <i><b>USERMEMORY</b></i>) куда будут записываться данные. </p>
<table class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методовв</th></tr><tr><th rowspan="2" width="28%">Название (alias)</th>
<th colspan="3" width="40%">Параметры</th>
<th rowspan="2" width="11%">Тип возвращаемого значения</th>
<th rowspan="2" width="20%">Описание метода </th></tr><tr><th width="14%">Имя</th>
<th width="9%">Тип</th>
<th width="16%">Описание</th></tr><tr><td width="28%">ОткрытьСессиюRFID (OpenSessionRFID)</td>
<td width="14%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="9%">STRING [IN] </td>
<td width="16%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="11%">BOOL</td>
<td width="20%">Открывает новую сессию для чтения данных из меток, попадающих в зону действия антенны считывателя</td></tr><tr><td width="28%">ЗакрытьСессиюRFID (CloseSessionRFID)</td>
<td width="14%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="9%">STRING [IN] </td>
<td width="16%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="11%">BOOL</td>
<td width="20%">Закрывает открытую ранее сессию</td></tr><tr><td rowspan="3" width="28%">ПолучитьДанныеМетокRFID (GetDataTagsRFID)</td>
<td width="14%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="9%">STRING [IN]</td>
<td width="16%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="3">BOOL</td>
<td rowspan="3">Получение пакета c данными считанных меток</td></tr><tr><td width="14%">ИДПакета (PackageID)</td>
<td style="TEXT-ALIGN: center" width="9%">STRING [IN]</td>
<td width="16%">Идентификатор пакета данных</td></tr><tr><td width="14%"><a href="#table_tags">ТаблицаМеток (TagsTable)<br>XML таблица </a></td>
<td style="TEXT-ALIGN: center" width="9%">STRING [OUT]</td>
<td width="16%">Пакет с данными меток</td></tr><tr><td rowspan="6" width="28%">ЗаписатьДанныеВМеткуRFID (SaveDataTagRFID)</td>
<td width="14%">ИДУстройства (DeviceID)</td>
<td style="TEXT-ALIGN: center" width="9%">STRING [IN] </td>
<td width="16%">Идентификатор устройства</td>
<td rowspan="6">
<p style="TEXT-ALIGN: center">BOOL</p></td>
<td rowspan="6">Записывает данные в RFID метку, находящуюся в зоне действия антенны считывателя.</td></tr><tr><td width="14%">TID (TID)</td>
<td style="TEXT-ALIGN: center" width="9%">STRING [IN/OUT] </td>
<td width="16%">TID метки для записи</td></tr><tr><td width="14%">EPC (EPC)</td>
<td style="TEXT-ALIGN: center" width="9%">STRING [IN/OUT] </td>
<td width="16%">EPC метки для записи</td></tr><tr><td width="14%">Данные (Data)</td>
<td style="TEXT-ALIGN: center" width="9%">STRING [IN] </td>
<td width="16%">Данные для записи в банк памяти</td></tr><tr><td width="14%">БанкПамяти (MemoryBank)</td>
<td style="TEXT-ALIGN: center" width="9%">LONG [IN]</td>
<td width="16%">Банк памяти для записи.<br>Одно из следующих значений:<br>1 - EPC <br>2 – USER MEMORY</td></tr><tr><td width="14%">Таймаут (Timeout)</td>
<td style="TEXT-ALIGN: center" width="9%">LONG [IN]</td>
<td width="16%">Таймаут, по которому операция прерывается</td></tr></tbody></table><a name="table_tags"></a>
<h5>ТаблицаМеток (TagsTable)</h5>
<p>Текст в формате XML, передаваемый с помощью параметра типа STRING.</p>
<table class="withBorder" width="65%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="10%">Секция</th>
<th width="23%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="8%">Типы данных</th>
<th width="60%">Описание атрибута</th></tr><tr><td colspan="2"><b>Table</b></td>
<td style="TEXT-ALIGN: center"><b>Да</b></td>
<td style="TEXT-ALIGN: center">&nbsp;</td>
<td><b>Таблица меток</b></td></tr><tr><td rowspan="3">
<p style="TEXT-ALIGN: center">Tag</p></td>
<td>TID</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Значение банка TID. Данные в шестнадцатеричном представлении.</td></tr><tr><td>EPC</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Значение банка EPC. Данные в шестнадцатеричном представлении.</td></tr><tr><td>USER</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Значение банка USER. Данные в шестнадцатеричном представлении.</td></tr></tbody></table><p>Пример текстового XML, содержащий данные: </p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml"> 
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;Table&gt;
    &lt;Tag TID="E28011002000589616B408A1" EPC="3074367C34001E880A6D6168" USER=""/&gt;
    &lt;Tag TID="E28011002000589216B308A1" EPC="30751BD15C35BC0508B59F22" USER=""/&gt;
 &lt;/Table&gt;
</pre><br>Работа с драйвером строится следующим образом: 
<ol><li>При инициализации объекта компоненты ему передается указатель на
 интерфейс "1С:Предприятия", с помощью которого можно вызывать метод: <br><i><b>HRESULT ExternalEvent(BSTR bstrWho, BSTR bstrWhat, BSTR bstrData)</b></i> 
</li><li>При попадании новых меток в зону действия антенны считывателя -
 драйвер формирует пакет с данными меток и передает уведомление в 
"1С:Предприятие" внешним событием. Во внешнем событии передается 
идентификатор пакета, содержащего данные. Внешние событие формируется 
посредством вызова метода <i><b>HRESULT ExternalEvent(BSTR bstrWho, BSTR bstrWhat, BSTR bstrData).</b></i> 
</li><li>Переданные данные размещаются в очереди сообщений. Сообщения из
 очереди обрабатываются только после обработки всех системных сообщений 
"1С:Предприятия". При переполнении очереди полученные сообщения 
игнорируются. </li></ol><p>Описание методов, доступных для асинхронного вызова из драйвера*</p>
<table class="withBorder" width="95%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="6" width="100%">Описание методов</th></tr><tr><th rowspan="2" width="19%">Название (alias)</th>
<th colspan="3" width="44%">Параметры</th>
<th rowspan="2" width="10%">Тип возвращаемого значения</th>
<th rowspan="2" width="24%">Описание метода </th></tr><tr><th width="8%">Имя</th>
<th width="9%">Тип</th>
<th width="27%">Описание</th></tr><tr><td rowspan="3" width="19%">ExternalEvent</td>
<td width="8%">bstrWho</td>
<td style="TEXT-ALIGN: center" width="9%">BSTR [IN]</td>
<td width="27%">Уникальный идентификатор подключенного устройства **</td>
<td rowspan="3" width="10%">
<p style="TEXT-ALIGN: center">HRESULT</p></td>
<td rowspan="3" width="24%">Помещает идентификатор пакета данных, полученных от RFID считывателя, в очередь сообщений.</td></tr><tr><td width="8%">bstrWhat</td>
<td style="TEXT-ALIGN: center" width="9%">BSTR [IN]</td>
<td width="27%">Тип сообщения/тип данных ***</td></tr><tr><td width="8%">bstrData</td>
<td style="TEXT-ALIGN: center" width="9%">BSTR [IN]</td>
<td width="27%">Идентификатор пакета, сформированный драйвером и содержащий данные меток</td></tr><tr><td width="19%">SetEventBufferDepth</td>
<td width="8%">lDepth</td>
<td style="TEXT-ALIGN: center" width="9%">LONG [IN]</td>
<td width="27%">Максимальное число сообщений в очереди</td>
<td width="10%">
<p style="TEXT-ALIGN: center">HRESULT</p></td>
<td width="24%">Устанавливает длину очереди сообщений</td></tr></tbody></table><p>* - Описание остальных функций, доступных для вызова из драйвера, см. в документе «Технология создания внешних компонент»<br>** - В параметре <b>bstrWho</b> драйвер передает уникальный идентификатор подключенного устройства.<br>*** - Параметр <b>bstrWhat</b> используется для поддержки событий различных типов. Для RFID считывателей должен содержать строку <b>«RFID»</b>.<br>&nbsp;В случае ошибки этот параметр должен содержать значение <b>"ОшибкаДрайвера"</b> (<b>«DriverError»</b>). В этом случае параметр <b>bstrData</b> должен содержать описание ошибки. </p><br><h2 id="chapter401">4. Подключение драйверов разработанных по стандарту «1С: Совместимо» к конфигурации БПО</h2>
<p>В конфигурации БПО начиная с версия 1.1.1 добавлена возможность 
подключения новых драйверов, разработанных по стандарту «1С: 
Совместимо».&nbsp;</p>
<p><b>Предоставляется возможность:</b></p>
<ul><li>Загрузки в информационную базу файла однокомпонентного драйвера 
или интеграционной библиотеки, поставляемого в виде архива внешней 
компоненты; 
</li><li>Загрузка в информационную базу файла драйвера, поставляемого в виде дистрибутива поставщика *; 
</li><li>Возможность использования драйвера, предварительно установленного на локальных компьютерах *. </li></ul><p>* -Только для драйверов разработанных по COM технологии. В данном режиме не поддерживается работа в WEB клиенте и Linux клиенте.</p>
<h3 id="chapter402">4.1. Подготовка драйвера к загрузке в конфигурацию БПО</h3>
<h4>Подготовка однокомпонентного драйвера или интеграционной библиотеки поставляемых в виде архива внешней компоненты</h4>
<p>Подготовка драйвера, поставляемого в виде архива внешней компоненты, 
для загрузки в конфигурацию БПО осуществляется согласно разделу 
"Подготовка внешних компонент для загрузки в конфигурацию" документа <a href="https://its.1c.ru/db/metodtorg/content/3221/hdoc" target="_top">"Технология создания внешних компонент"</a>. Кроме того, в архиве должен присутствовать XML файл c именем "INFO.XML", содержащий информацию для загрузки драйвера. <br><br>XML файл должен иметь следующую структуру: </p>
<table id="info" class="withBorder" width="65%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="20%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="8%">Типы данных</th>
<th width="60%">Описание атрибута</th></tr><tr><td>progid</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Идентификатор объекта драйвера.</td></tr><tr><td>type </td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Тип драйвера. Имеет одно из значений: “СканерШтрихкода“, 
“СчитывательМагнитныхКарт“, “ФискальныйРегистратор“, “ПринтерЧеков“, 
“ПринтерЭтикеток“, “ДисплейПокупателя“, “ТерминалСбораДанных“, 
“ЭквайринговыйТерминал“, “ЭлектронныеВесы“, “ВесыСПечатьюЭтикеток“. </td></tr><tr><td>name</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование драйвера, отображаемое пользователю.</td></tr><tr><td>version</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Поставляемая версия драйвера.</td></tr></tbody></table><p>Пример файла "INFO.XML", описывающего информацию о драйвере:</p><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a><pre class="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;drivers&gt;
	&lt;component progid="AddIn.EmulatorFP1C" type="ФискальныйРегистратор" name="1C: Эмулятор фискального регистратора" version="1.0.21.1"/&gt;
&lt;/drivers&gt;
</pre>
<h4>Подготовка драйвера поставляемого в виде дистрибутива</h4>
<p>Для подготовки драйвера необходимо упаковать дистрибутив инсталлятора
 в ZIP архив. Исполняемый файл дистрибутива должен иметь имя 
"setup.exe". Помимо исполняемого файла допускается наличие 
дополнительных файлов необходимых для работы установщика дистрибутива. 
Так же в архиве должен присутствовать XML-файл c именем "INFO.XML" 
содержащий информацию необходимую для загрузки драйвера. Структура 
данного файла такая же, как и структура "INFO.XML" предыдущего раздела.</p>
<h3 id="chapter403">4.2. Загрузка подготовленного драйвера в конфигурацию БПО</h3>
<p>Для загрузки подготовленного драйвера необходимо перейти в раздел <b>"Подключаемое оборудование\Драйверы оборудования"</b>. <br>В форме списка драйверов нажать <b>"Добавить новый драйвер из файла"</b> и в отрывшемся диалоге выбора файла выбрать подготовленный для загрузки файл драйвера. <br>После
 открытие формы загружаемого драйвера необходимо проверить корректность 
заполнения информации о драйвере (поля: Тип оборудования, Наименование, 
Идентификатор объекта), и нажать кнопку <b>"Записать и закрыть"</b>.</p>
<p><img src="1c2.4_files/scr03_ru.png" width="616" height="442" border="0"></p><a name="chapter404"></a>
<h3>4.3. Использование драйвера, предварительно установленного на локальном компьютере</h3>
<p>Для подключения драйвера, предварительного установленного на локальном компьютере, необходимо перейти в раздел <b>"Подключаемое оборудование\Драйверы оборудования"</b>. <br>В форме списка драйверов нажать <b>"Создать"</b>,
 и в открывшейся форме создаваемого драйвера ввести необходимые 
параметры драйвера в поля: Тип оборудования, Наименование, Идентификатор
 объекта.<br>После заполнения необходимых данных нажать кнопку <b>"Записать и закрыть"</b>. Данная возможность предусмотрена только для драйверов разработанных по COM технологии. <br>В данном режиме не поддерживается работа в WEB клиенте и Linux клиенте.</p><a name="chapter601"></a>
<h2>Подключение программно-аппаратных комплексов с помощью файлового обмена </h2>
<p>Тип офлайн оборудования: ККМ</p>
<p>Работа с программно-аппаратными POS-системами (активными системными 
контрольно-кассовыми машинами) в режиме "Офлайн" заключается в файловом 
обмене информацией. В POS-систему из конфигурации выгружается данные 
(настройки, прайс-лист, заказы), в конце рабочего дня в конфигурацию 
загружаются данные о продажах (формируются в разрезе кассовых смен с 
детализацией по чекам), зарегистрированных POS-системой в течение смены.
 </p>
<p>Выгружаемые на ККМ данные формируется на основе данных информационной
 базы средствами конфигурации (драйвер "1С:Офлайн оборудование"). Имена 
файлов и пути размещения задаются пользовательскими настройками.</p><a name="table_61"></a>
<h5><font size="2" face="Verdana">Список команд, поддерживаемых драйвером "1С:Офлайн оборудование" библиотеки подключаемого оборудования</font></h5>
<table id="table78" class="withBorder" width="64%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="19%">Операция</th>
<th width="27%">Данные</th>
<th width="51%">Описание операции </th></tr><tr><td width="19%">Выгрузить данные</td>
<td width="27%"><a href="#exportdata">Данные выгрузки (ExportData)</a></td>
<td width="51%">Выгружает данные на ККМ</td></tr><tr><td width="19%">Загрузить данные</td>
<td width="27%"><b><a href="#importdata">Данные загрузки (ImportData)</a></b></td>
<td>Загружает данные из ККМ</td></tr></tbody></table><br>После успешной 
обработки данных файла принимающая сторона устанавливает признак 
обработки "Processed" со значением времени обработки.<br><br>Примеры файлов:<br><br><a href="https://its.1c.ru/db/content/metod8dev/src/developers/additional/guides/i8104829.files/exportdata.xml" target="_blank" class="attachment" rel="nofollow">ExportData.xml</a> 
<p><a href="https://its.1c.ru/db/content/metod8dev/src/developers/additional/guides/i8104829.files/importdata.xml" target="_blank" class="attachment" rel="nofollow">ImportData.xml</a> <a name="exportdata"></a></p>
<h3>Данные выгрузки (ExportData)</h3>
<table id="table79" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="6">ExportData</td></tr><tr><td width="17%">FormatVersion</td>
<td style="TEXT-ALIGN: center">Да</td>
<td>int</td>
<td>Версия формата обмена</td></tr><tr><td width="17%">Processed</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td>datetime</td>
<td>Признак обработки файла</td></tr><tr><td width="17%">Settings</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td><a href="#settings">Settings</a></td>
<td>Секция настроек</td></tr><tr><td width="17%">PriceList</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td><a href="#pricelist">PriceList</a></td>
<td>Секция прайс-листа</td></tr><tr><td width="17%">Orders</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td><a href="#orders">Orders</a></td>
<td>Секция заказов</td></tr></tbody></table><a name="settings"></a>
<h3>Секция настроек (Settings)</h3>
<table id="table61" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td colspan="2">CompanyName</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование организации</td></tr><tr><td colspan="2">StoreName</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование магазина</td></tr><tr><td colspan="2">&lt;TaxationSystems&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов TaxationSystem</td>
<td><span>Системы налогообложения</span></td></tr><tr><td>&nbsp;</td>
<td width="17%">TaxationSystem</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">int</td>
<td>Система налогообложения<br>См. таблицу: <a href="#taxvariant">Системы налогообложения</a></td></tr><tr><td colspan="2"><span>SenderEmail</span></td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Адрес электронной почты отправителя чека</td></tr><tr><td colspan="2">INN</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>ИНН организации</td></tr><tr><td colspan="2">KPP</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>КПП организации</td></tr><tr><td colspan="2"><span>SaleAddress</span></td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Адрес проведения расчетов</td></tr><tr><td colspan="2"><span>SaleLocation</span></td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Место проведения расчетов</td></tr><tr><td colspan="2">AllowDiscounts</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Использование скидок</td></tr><tr><td colspan="2">AllowPaymentCards</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Использование платежных карт при оплате</td></tr><tr><td colspan="2">&lt;ElectronicPaymentOptions&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов ElectronicPaymentOption</td>
<td>Виды электронной оплаты</td></tr></tbody></table><h5>Секция видов электронной оплаты (ElectronicPaymentOptions)</h5>
<table id="table86" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="4">ElectronicPaymentOption</td>
<td width="17%">Code</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код, идентификатор вида оплаты</td></tr><tr><td width="17%">ElectronicPaymentType</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">int</td>
<td>1 - Платежная карта<br>2 - Банковский кредит<br>3 - Подарочный сертификат<br>4 - Бонусы</td></tr><tr><td width="17%">Name</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование вида оплаты</td></tr><tr><td width="17%">UUID</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> вида оплаты</td></tr></tbody></table><a name="pricelist"></a>
<h5>Секция прайс-листа (PriceList)</h5>
<table id="table95" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td colspan="2">FullExport</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак выгрузки "Частичная/Полная". При полной выгрузке предполагается полная очистка товаров в смежной POS-системе</td></tr><tr><td colspan="2">&lt;Groups&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов Group</td>
<td>Группы товаров</td></tr><tr><td rowspan="6">Group</td>
<td width="17%">Code</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код, идентификатор группы</td></tr><tr><td width="17%">Name</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование группы</td></tr><tr><td width="17%">UUID</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> группы</td></tr><tr><td width="17%">ParentGroupCode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код группы товаров, в которую вложена текущая группа</td></tr><tr><td width="17%">ParentGroupUUID</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Уникальный идентификатор группы товаров, в которую вложена текущая группа</td></tr><tr><td width="17%">&lt;Extension&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов<b><a href="#extensions"> Extension</a></b></td>
<td>Таблица дополнительных реквизитов</td></tr><tr><td colspan="2"><span>&lt;AgentsData&gt;</span></td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов <br><a href="#agentdata">AgentData</a></td>
<td>Данные агентов</td></tr><tr><td colspan="2">&lt;VendorsData&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов <br><a href="#purveyordata">VendorData</a></td>
<td>Данные поставщиков</td></tr><tr><td colspan="2">&lt;Units&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><span>список элементов <br><a href="#unitofmeasurement">Unit</a></span></td>
<td>Единицы измерения</td></tr><tr><td colspan="2">&lt;Goods&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов Good</td>
<td>Таблица товаров</td></tr><tr><td rowspan="27">Good</td>
<td width="17%">Code</td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код, идентификатор товарной позиции</td></tr><tr><td width="17%">Barcodes</td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">список элементов <a href="#barcode">Barcode</a></td>
<td>Список штрихкодов</td></tr><tr><td width="17%">Price</td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Цена товара</td></tr><tr><td width="17%"><span>Balance</span></td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Товарный остаток</td></tr><tr><td width="17%">UUID</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> товара</td></tr><tr><td width="17%">Name</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование</td></tr><tr><td width="17%">TaxRate</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center"><span>string</span></td>
<td>Значение ставки НДС: <br>"none" - БЕЗ НДС<br>"18" - НДС 18 <br>"10" - НДС 10 <br>"0" - НДС 0</td></tr><tr><td width="17%">CalculationSubject</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">int</td>
<td>Признак предмета расчета <br>См. таблицу <a href="#signcalculationobject">Признаки предмета расчета</a></td></tr><tr><td width="17%">UnitCode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><span>string</span></td>
<td><span>Код базовой единицы измерения</span><br>см. <span style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; DISPLAY: inline !important; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">с</span><span>екцию </span><a href="#unitofmeasurement"><span>Units</span></a></td></tr><tr><td width="17%">UnitUUID</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><span>string</span></td>
<td><span>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> базовой единицы измерения</span><br>см. <span style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; DISPLAY: inline !important; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">с</span><span>екцию </span><a href="#unitofmeasurement"><span>Units</span></a></td></tr><tr><td width="17%">GroupCode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><span>string</span></td>
<td>Код группы товаров</td></tr><tr><td width="17%">GroupUUID</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><span>string</span></td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> группы товаров</td></tr><tr><td width="17%">Article</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Артикул товара</td></tr><tr><td width="17%">Description</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Описание товара</td></tr><tr><td width="17%"><span>IsWeight</span></td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Весовой товар</td></tr><tr><td width="17%">Department</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">int&nbsp;</td>
<td>Отдел (секция), по которому ведется продажа</td></tr><tr><td width="17%">HasCharacteristics</td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">boolean&nbsp;</td>
<td>Признак наличия характеристик у товара</td></tr><tr><td width="17%"><span>&lt;Characteristics&gt;</span></td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">список элементов 
<p></p><a href="#characteristics">Characteristic</a> 
<p></p></td>
<td>Список характеристик</td></tr><tr><td width="17%">HasPacks</td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">boolean&nbsp;</td>
<td>Признак наличия упаковок у товара</td></tr><tr><td width="17%"><span>&lt;Packs&gt;</span></td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">список элементов 
<p></p><a href="#recordpack">Pack</a> 
<p></p></td>
<td>Список упаковок</td></tr><tr><td width="17%">AgentDataCode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><span>string</span></td>
<td><span style="LETTER-SPACING: normal">Код д</span>анных агента <br>см. <span style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; DISPLAY: inline !important; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">с</span><span>екцию <a href="#agentdata">AgentsData</a></span></td></tr><tr><td width="17%">AgentDataUUID</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><span>string</span></td>
<td><span>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a></span><span style="LETTER-SPACING: normal"> д</span>анных агента<br>см. <span style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; DISPLAY: inline !important; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">с</span><span>екцию <a href="#agentdata">AgentsData</a></span></td></tr><tr><td width="17%">VendorDataCode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><span>string</span></td>
<td><span style="LETTER-SPACING: normal">Код д</span>анных поставщика<br>см. <span style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; DISPLAY: inline !important; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">с</span><span>екцию <a href="#purveyordata">VendorsData</a></span></td></tr><tr><td width="17%">VendorDataUUID</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><span>string</span></td>
<td><span>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a>д</span>анных поставщика <br>см. <span style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; DISPLAY: inline !important; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">с</span><span>екцию <a href="#purveyordata">VendorsData</a></span></td></tr><tr><td width="17%"><span>IsAlcohol</span></td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак алкогольной продукции</td></tr><tr><td width="17%"><span>&lt;Alcohol&gt;</span>&nbsp;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список алкогольных атрибутов</td>
<td>Секция алкогольных реквизитов</td></tr><tr><td width="17%">&lt;Extensions&gt;&nbsp;</td>
<td style="TEXT-ALIGN: center">Нет&nbsp;</td>
<td style="TEXT-ALIGN: center">список элементов<b> <a href="#extensions">Extension</a></b>&nbsp;</td>
<td>Таблица дополнительных реквизитов</td></tr></tbody></table><h5>Список алкогольных реквизитов (Alcohol)</h5>
<table id="table97" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td>IsExcisable</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Маркируемый акцизной или специальной маркой</td></tr><tr><td>AlcoholKindCode</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код вида алкогольной продукции</td></tr><tr><td>AlcoholContainerSize</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Ёмкость тары в литрах</td></tr><tr><td>AlcoholStrength</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Крепость алкоголя</td></tr><tr><td>VendorINN</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>ИНН производителя</td></tr><tr><td>VendorKPP</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>КПП производителя</td></tr><tr><td>IsDraught</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Продажа в розлив</td></tr></tbody></table><h5>Секция характеристик товаров (Characteristics)</h5>
<table id="table82" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="9">Characteristic</td>
<td width="17%">Code</td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код, идентификатор товарной позиции </td></tr><tr><td width="17%">Barcodes</td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">список элементов <a href="#barcode">Barcode</a></td>
<td>Список штрихкодов</td></tr><tr><td width="17%">Price</td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Цена характеристики</td></tr><tr><td width="17%">Balance</td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Товарный остаток </td></tr><tr><td width="17%">UUID</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> характеристики</td></tr><tr><td width="17%">Name</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование</td></tr><tr><td width="17%">HasPacks</td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Наличие упаковок у характеристики</td></tr><tr><td width="17%">&lt;Packs&gt;</td>
<td style="TEXT-ALIGN: center"><a href="#conditioncode">По условию</a></td>
<td style="TEXT-ALIGN: center">список элементов 
<p></p><a href="#recordpack">Pack</a> 
<p></p></td>
<td>Список упаковок</td></tr><tr><td width="17%">&lt;Extensions&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов<b> <a href="#extensions">Extension</a></b></td>
<td>Таблица <span>дополнительных реквизитов</span></td></tr></tbody></table><a name="recordpack"></a>
<h5>Секция упаковок товара (Packs)</h5>
<table id="table81" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="8">Pack</td>
<td width="17%">Code</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код, идентификатор товарной позиции</td></tr><tr><td width="17%">Name</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Наименование</td></tr><tr><td width="17%">UnitsPerPack</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td class="style2" style="FLOAT: none; ORPHANS: 2; WIDOWS: 2; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">Количество товара (в базовых единицах) в упаковке</td></tr><tr><td width="17%">UUID</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> упаковки</td></tr><tr><td width="17%">Barcodes</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов <a href="#barcode">Barcode</a></td>
<td>Список штрихкодов</td></tr><tr><td width="17%">Price</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Цена за упаковку </td></tr><tr><td width="17%">Balance</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">decimal</td>
<td>Товарный остаток</td></tr><tr><td width="17%">&lt;Extensions&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов<b><a href="#extensions"> Extension</a></b></td>
<td><span>Таблица </span><span style="FONT-FAMILY: Verdana; FONT-VARIANT: normal; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; WIDOWS: 1; DISPLAY: inline !important; LETTER-SPACING: normal; LINE-HEIGHT: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">дополнительных реквизитов</span></td></tr></tbody></table><a name="conditioncode"></a>
<h5>Условие наличия атрибутов "Code", "Barcodes", "Price", "Balance"</h5>
<p>Таблица товаров имеет древовидную структуру. Товар может иметь иметь набор характеристик и набор упаковок. <br>Упаковки
 могут быть описаны как в секции товаров, так и в секции характеристик в
 случае, если учет товаров ведется в разрезе характеристик. <br>Атрибуты "Code", "Barcodes", "Price", "Balance", &nbsp;указываются для последнего (нижнего) уровня иерархии. </p>
<p>Например, для товара "Майка дет." вида "Одежда" необходимо вводить 
характеристику "Размер". Товар может продаваться как упаковкой по 3 шт.,
 так и поштучно. <br>В этом случае формируется записи во всех трех 
секциях, код присваивается записям: "Майка дет."+"р-р. 22" в секции 
"Характеристики" <br>и для "Майка дет."+"р-р. 22"+"Уп." в секции "Упаковки". </p>
<table class="withBorder" style="WIDTH: 90%" cellspacing="0" cellpadding="3"><tbody><tr><th rowspan="2"><strong>Товар</strong></th>
<th colspan="4"><strong>Секция товар (Good)</strong></th>
<th colspan="3"><strong>Секция характеристика <br>(Characteristic)</strong></th>
<th rowspan="2"><strong>Секция упаковка (Pack)</strong></th></tr><tr><th><strong>HasCharacteristics</strong></th>
<th><strong>HasPacks</strong></th>
<th><strong>Code </strong></th>
<th><strong>Barcodes<br>Price<br></strong><span><strong>Balance</strong></span></th>
<th><strong>HasPacks</strong></th>
<th><strong>Code </strong></th>
<th><strong>Barcodes<br>Price<br></strong><span><strong>Balance</strong></span></th></tr><tr><td>без характеристик<br>без упаковок</td>
<td>**<br>false</td>
<td>**<br>false</td>
<td>*</td>
<td>**</td>
<td colspan="3">-</td>
<td>-</td></tr><tr><td>без характеристик <br>с упаковками</td>
<td>**<br>false</td>
<td>*<br>true</td>
<td>**<br>для базовой ЕИ (unit)</td>
<td>**<br>для базовой ЕИ (unit)</td>
<td colspan="3">-</td>
<td>*</td></tr><tr><td>с характеристиками <br>с упаковками</td>
<td>*<br>true</td>
<td>**<br>false</td>
<td>-</td>
<td>-</td>
<td>*<br>true</td>
<td>**<br>для базовой ЕИ (unit)</td>
<td>**<br>для базовой ЕИ (unit)</td>
<td>*</td></tr><tr><td>с характеристиками <br>без упаковок</td>
<td>*<br>true</td>
<td>**<br>false</td>
<td>-&nbsp;</td>
<td>-&nbsp;</td>
<td>**<br>false</td>
<td>*</td>
<td>**</td>
<td>-</td></tr></tbody></table><p>* обязательный атрибут/секция<br>** может присутствовать, но не обязательно<br>- атрибут/секция должны отсутствовать<br><br>для
 базовой ЕИ (unit) - значения указываются только для базовой единицы 
измерения, значения для упаковок должны указываться в секции упаковок</p>
<h5>Секция единиц измерения (Units)</h5>
<table id="table84" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="5">Unit</td></tr><tr><td width="17%"><span>Code</span></td>
<td>Да</td>
<td>string</td>
<td>Код</td></tr><tr><td width="17%">Name</td>
<td>Да</td>
<td>string</td>
<td>Наименование</td></tr><tr><td width="17%">UUID</td>
<td>Нет</td>
<td>string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> единицы измерения</td></tr><tr><td width="17%">OKEICode</td>
<td>Нет</td>
<td>int</td>
<td>Код <a href="https://ru.wikipedia.org/wiki/%D0%9E%D0%B1%D1%89%D0%B5%D1%80%D0%BE%D1%81%D1%81%D0%B8%D0%B9%D1%81%D0%BA%D0%B8%D0%B9_%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D1%80_%D0%B5%D0%B4%D0%B8%D0%BD%D0%B8%D1%86_%D0%B8%D0%B7%D0%BC%D0%B5%D1%80%D0%B5%D0%BD%D0%B8%D1%8F" target="_blank">ОКЕИ</a></td></tr></tbody></table><a name="barcode"></a>
<h5>Секция штрихкодов (Barcodes)</h5>
<table id="table85" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="3">Barcode</td></tr><tr><td width="17%">Value</td>
<td>Да</td>
<td>string</td>
<td>Штрихкод</td></tr><tr><td width="17%">Type</td>
<td>Нет</td>
<td>string</td>
<td>Тип штрихкода: CODE128, CODE39, EAN128, EAN13, EAN8, ITF14,<span> QR</span></td></tr></tbody></table><a name="agentdata"></a>
<h5>Секция данных агентов (AgentsData)</h5>
<table id="table67" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="11">AgentData</td></tr><tr><td width="17%">Code</td>
<td>Да</td>
<td>string</td>
<td>Код</td></tr><tr><td width="207">UUID</td>
<td>Нет</td>
<td>string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> сущности</td></tr><tr><td width="207">AgentType</td>
<td>Нет</td>
<td>int</td>
<td><span>Признака агента по предмету расчета<br>См. таблицу<span class="Apple-converted-space">&nbsp;</span></span><a href="#signsubjectcalculationagent"> Признаки агента по предмету расчета</a></td></tr><tr><td width="207">AgentOperation</td>
<td>Нет</td>
<td>string</td>
<td>Операция платежного агента</td></tr><tr><td width="207">AgentPhone</td>
<td>Нет</td>
<td>string</td>
<td>Телефон платежного агента</td></tr><tr><td width="207">PaymentProcessorPhone</td>
<td>Нет</td>
<td>string</td>
<td>Телефон оператора по приему платежей</td></tr><tr><td width="207"><span>Acquirer</span>OperatorPhone</td>
<td>Нет</td>
<td>string</td>
<td>Телефон оператора перевода</td></tr><tr><td width="207"><span>Acquirer</span>OperatorName</td>
<td>Нет</td>
<td>string</td>
<td>Наименование оператора перевода</td></tr><tr><td width="207">AcquirerOperatorAddress</td>
<td>Нет</td>
<td>string</td>
<td>Адрес оператора перевода</td></tr><tr><td width="207">AcquirerOperatorINN</td>
<td>Нет</td>
<td>string</td>
<td>ИНН оператора перевода</td></tr></tbody></table><a name="purveyordata"></a>
<h5>Секция данных поставщиков (VendorsData)</h5>
<table id="table68" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="6">VendorData</td></tr><tr><td width="17%">Code</td>
<td>Да</td>
<td>string</td>
<td>Код</td></tr><tr><td width="207">UUID</td>
<td>Нет</td>
<td>string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> сущности</td></tr><tr><td width="207">VendorPhone</td>
<td>Нет</td>
<td>string</td>
<td>Телефон поставщика</td></tr><tr><td width="207">VendorName</td>
<td>Нет</td>
<td>string</td>
<td>Наименование поставщика</td></tr><tr><td width="207">VendorINN</td>
<td>Нет</td>
<td>string</td>
<td>ИНН поставщика</td></tr></tbody></table><a name="orders"></a>
<h5>Секция заказов (Orders)</h5>
<table id="table99" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td colspan="2">&lt;Orders&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">Список элементов Order</td>
<td>Заказы</td></tr><tr><td rowspan="18">Order</td>
<td width="17%">Date</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Дата заказа</td></tr><tr><td width="17%">Number</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">datetime</td>
<td>Номер заказа</td></tr><tr><td width="17%">UUID</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> заказа</td></tr><tr><td width="17%">AddressCity</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Город доставки</td></tr><tr><td width="17%">AddressStreet</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Улица доставки</td></tr><tr><td width="17%">AddressBuilding</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Номер дома доставки</td></tr><tr><td width="17%">AddressApartment</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Номер квартиры/офиса доставки</td></tr><tr><td width="17%">AddressEntrance</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Номер подъезда доставки</td></tr><tr><td width="17%">AddressFloor</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Номер этажа доставки</td></tr><tr><td width="17%">Phone</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Номер телефона клиента</td></tr><tr><td width="17%">DeliveryDate</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">datetime</td>
<td>Адрес Email клиента</td></tr><tr><td width="17%">Status</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Статус заказа "НеСогласован", "Согласован", "Отменен"</td></tr><tr><td width="17%">Comment</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Комментарий</td></tr><tr><td width="17%">FirstName</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Имя клиента</td></tr><tr><td width="17%">LastName</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Фамилия клиента</td></tr><tr><td width="17%">&lt;Goods&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов <a href="#ordergoods">Good</a></td>
<td>Список заказанных товаров</td></tr><tr><td width="17%">&lt;Payments&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов<b> <a href="#payment">Payment</a></b></td>
<td>Список оплат</td></tr><tr><td width="17%">&lt;Extensions&gt;</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">список элементов<b> <a href="#extensions">Extension</a></b></td>
<td>Таблица <span>дополнительных реквизитов</span></td></tr></tbody></table><a name="ordergoods"></a>
<h5>Секция товаров заказа (Goods)</h5>
<table id="table100" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="9">Good</td></tr><tr><td width="17%">Code</td>
<td>Да</td>
<td>string</td>
<td>Код</td></tr><tr><td width="207">Quantity</td>
<td>Да</td>
<td>decimal</td>
<td>Количество заказанного товара</td></tr><tr><td width="207">Price</td>
<td>Да</td>
<td>decimal</td>
<td>Цена, по которой продан товар<br>(без учета скидки/наценки)</td></tr><tr><td width="207">Sum</td>
<td>Да</td>
<td>decimal</td>
<td>Сумма (с учетом скидки/наценки)</td></tr><tr><td width="207">GoodUUID</td>
<td>Нет </td>
<td>string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> товара</td></tr><tr><td width="207">CharacteristicUUID</td>
<td>Нет </td>
<td>string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> характеристики</td></tr><tr><td width="207">PackUUID</td>
<td>Нет </td>
<td>string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> упаковки</td></tr><tr><td width="207">&lt;Extensions&gt;</td>
<td>Нет</td>
<td>список элементов <a href="#extensions">Extension</a></td>
<td>Таблица <span>дополнительных реквизитов</span></td></tr></tbody></table><a name="importdata"></a>
<h5>Данные для загрузки (ImportData)</h5>
<table class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="5"><font size="2" face="Verdana">ImportData</font></td></tr><tr><td width="17%">FormatVersion</td>
<td>Да</td>
<td>int</td>
<td>Версия формата обмена</td></tr><tr><td width="207">Processed</td>
<td>Нет</td>
<td>datetime</td>
<td>Признак обработки файла</td></tr><tr><td width="207">&lt;SaleReports&gt;</td>
<td>Нет</td>
<td>Список элементов<br><a href="#salereport2">SaleReport</a></td>
<td>Секция отчетов о продажах</td></tr><tr><td width="207">&lt;AlcoholTareOpenings&gt;</td>
<td>Нет</td>
<td><font face="Verdana">Список элементов<br><a href="#alcoholtareopening">AlcoholTareOpening</a></font></td>
<td>Секция документов вскрытия алкогольной тары</td></tr></tbody></table><a name="salereport2"></a>
<h5>Секция отчетов о продажах (SaleReports) Элемент SaleReport</h5>
<p>&nbsp; 
</p><p></p><p></p><p></p><p>&nbsp;</p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><table class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th>Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td colspan="2">ShiftNumber </td>
<td style="TEXT-ALIGN: center">Нет </td>
<td style="TEXT-ALIGN: center">string </td>
<td>Номер кассовой смены </td></tr><tr><td colspan="2">OpeningDate </td>
<td style="TEXT-ALIGN: center">Да </td>
<td style="TEXT-ALIGN: center">datetime&nbsp; </td>
<td>Дата открытия кассовой смены </td></tr><tr><td colspan="2">ClosingDate </td>
<td style="TEXT-ALIGN: center">Да </td>
<td style="TEXT-ALIGN: center">datetime </td>
<td>Дата и время закрытия кассовой смены&nbsp; </td></tr><tr><td colspan="2">UUID </td>
<td style="TEXT-ALIGN: center">Нет&nbsp; </td>
<td style="TEXT-ALIGN: center">string&nbsp; </td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> отчета/кассовой смены&nbsp; </td></tr><tr><td colspan="2">&lt;Checks&gt; </td>
<td style="TEXT-ALIGN: center">Нет </td>
<td style="TEXT-ALIGN: center">список элементов <b>Check</b> </td>
<td>Список чеков </td></tr><tr><td rowspan="10">Check </td>
<td width="17%">Date </td>
<td style="TEXT-ALIGN: center">Да </td>
<td style="TEXT-ALIGN: center">datetime&nbsp; </td>
<td>Дата чека </td></tr><tr><td width="17%">Number </td>
<td style="TEXT-ALIGN: center">Да </td>
<td style="TEXT-ALIGN: center">string&nbsp; </td>
<td>Номер чека </td></tr><tr><td width="17%">TaxationSystem </td>
<td style="TEXT-ALIGN: center">Да </td>
<td style="TEXT-ALIGN: center">int&nbsp; </td>
<td><span>Cистема налогообложения<br>См. таблицу<a href="#taxvariant">Системы налогообложения</a> </span></td></tr><tr><td width="17%">OperationType</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">int</td>
<td><span>Тип операции:</span><br><span>1 - приход<span class="Apple-converted-space">&nbsp;денежных средств</span></span><br><span>2 - возврат прихода <span class="Apple-converted-space">денежных средств</span></span><br><span>3 - расход<span class="Apple-converted-space">&nbsp;денежных средств</span></span><br><span>4 - возврат расхода <span class="Apple-converted-space">денежных средств</span></span> 
<p></p></td></tr><tr><td width="17%">
<p>UUID</p></td>
<td style="TEXT-ALIGN: center">
<p>Нет</p></td>
<td style="TEXT-ALIGN: center">
<p>string&nbsp;</p></td>
<td>
<p>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> чека</p></td></tr><tr><td width="17%">
<p>RefDocumentUUID</p></td>
<td style="TEXT-ALIGN: center">
<p>Нет</p></td>
<td style="TEXT-ALIGN: center">
<p>string&nbsp;</p></td>
<td>
<p>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a>&nbsp; документа, связанного с текущим чеком</p></td></tr><tr><td width="17%">
<p>RefDocumentType</p></td>
<td style="TEXT-ALIGN: center">
<p>Нет</p></td>
<td style="TEXT-ALIGN: center">
<p>string&nbsp;</p></td>
<td>
<p>Тип документа, связанного с текущим чеком: "Check", "Order"</p></td></tr><tr><td width="17%">
<p>&lt;Goods&gt;</p></td>
<td style="TEXT-ALIGN: center">
<p>Нет</p></td>
<td style="TEXT-ALIGN: center">
<p>список элементов <a href="#good">Good</a>&nbsp;</p></td>
<td>
<p>Список товаров</p></td></tr><tr><td width="17%">
<p>&lt;Payments&gt;</p></td>
<td style="TEXT-ALIGN: center">
<p>Да</p></td>
<td style="TEXT-ALIGN: center">
<p>список элементов <a href="#payment">Payment</a>&nbsp;</p></td>
<td>
<p>Список оплат</p></td></tr><tr><td width="17%">
<p>&lt;Extensions&gt;</p></td>
<td style="TEXT-ALIGN: center">
<p>Нет</p></td>
<td style="TEXT-ALIGN: center">
<p>список элементов<b> <a href="#extensions">Extension</a></b>&nbsp;</p></td>
<td>
<p>Таблица <span>дополнительных реквизитов</span></p></td></tr><tr><td colspan="2">
<p>&lt;IncomeOutcomeChecks&gt;</p></td>
<td style="TEXT-ALIGN: center">
<p>Нет</p></td>
<td style="TEXT-ALIGN: center">
<p>список элементов IncomeOutcomeCheck</p></td>
<td>
<p>Чеки внесения и выемки наличных из денежного ящика кассы</p></td></tr><tr><td rowspan="6">
<p>IncomeOutcomeCheck</p></td>
<td width="17%">
<p>Date</p></td>
<td style="TEXT-ALIGN: center">
<p>Да</p></td>
<td style="TEXT-ALIGN: center">
<p>datetime&nbsp;</p></td>
<td>
<p>Дата документа</p></td></tr><tr><td width="17%">
<p>Number</p></td>
<td style="TEXT-ALIGN: center">
<p>Да</p></td>
<td style="TEXT-ALIGN: center">
<p>string</p></td>
<td>
<p>Номер документа</p></td></tr><tr><td width="17%">
<p>Sum</p></td>
<td style="TEXT-ALIGN: center">
<p>Да</p></td>
<td style="TEXT-ALIGN: center">
<p>decimal</p></td>
<td>
<p>Сумма</p></td></tr><tr><td width="17%">
<p>Type</p></td>
<td style="TEXT-ALIGN: center">
<p>Да</p></td>
<td style="TEXT-ALIGN: center">
<p>string</p></td>
<td>
<p>Тип движения:<br>"Income" - внесение<br>"Outcome" - выемка</p></td></tr><tr><td width="17%">
<p>UUID</p></td>
<td style="TEXT-ALIGN: center">
<p>Нет</p></td>
<td style="TEXT-ALIGN: center">
<p>string</p></td>
<td>
<p>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> чека внесения и выемки денежных средств</p></td></tr><tr><td width="17%">
<p>&lt;Extensions&gt;</p></td>
<td style="TEXT-ALIGN: center">
<p>Нет</p></td>
<td style="TEXT-ALIGN: center">
<p>список элементов<b> <a href="#extensions">Extension</a></b></p></td>
<td>
<p>Таблица <span>дополнительных реквизитов</span></p></td></tr>











</tbody></table><a name="good"></a>
<h5>Секция списка товаров чека (Goods)</h5>
<table id="table70" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="12">Good</td></tr><tr><td width="17%">Code</td>
<td>Да</td>
<td>string</td>
<td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid">Код, идентификатор товарной позиции</td></tr><tr><td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid" width="230">Quantity</td>
<td>Да</td>
<td>decimal</td>
<td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid">Количество проданного товара</td></tr><tr><td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid" width="230">Price</td>
<td>Да</td>
<td>decimal</td>
<td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid">Цена, по которой продан товар (без учета скидок и наценок)</td></tr><tr><td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid" width="230">Sum</td>
<td>Да</td>
<td>decimal</td>
<td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid">Сумма (с учетом скидки)</td></tr><tr><td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid" width="230">TaxRate</td>
<td>Да</td>
<td>string</td>
<td>Ставка НДС<span style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">:</span><br style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">"<span style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">none</span>" - БЕЗ НДС<br style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">"18" - НДС 18<br style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">"10" - НДС 10<br style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">"0" - НДС 0<br style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial"><span style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; DISPLAY: inline !important; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">"10/110" - расчетная ставка 10/110</span><br style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial"><span style="FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; DISPLAY: inline !important; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial">"18/118" - расчетная ставка 18/118</span></td></tr><tr><td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid" width="230">PaymentMethod</td>
<td>Да</td>
<td><span>int</span></td>
<td><span>Признак способа расчета<br></span>См. таблицу<span class="Apple-converted-space">&nbsp;</span><a style="TEXT-DECORATION: none; FONT-FAMILY: Verdana; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: bold; COLOR: rgb(204,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px" href="#signmethodcalculation"> Признаки способа расчета</a></td></tr><tr><td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid" width="230">AlcoholExciseStamp</td>
<td>Нет</td>
<td>string</td>
<td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid">Строка, закодированная в штрихкоде PDF417 акцизной или спец. марки алкогольной продукции</td></tr><tr><td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid" width="230">GoodUUID</td>
<td>Нет</td>
<td>string</td>
<td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid">Уникальный идентификатор товара</td></tr><tr><td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid" width="230">CharacteristicUUID</td>
<td>Нет</td>
<td>string</td>
<td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid">Уникальный идентификатор характеристики</td></tr><tr><td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid" width="230">PackUUID</td>
<td>Нет</td>
<td>string</td>
<td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid">Уникальный идентификатор упаковки</td></tr><tr><td style="BORDER-BOTTOM: rgb(255,215,0) 1px solid; BORDER-LEFT: rgb(255,215,0) 1px solid" width="230">&lt;Extensions&gt;</td>
<td>Нет</td>
<td>список элементов<b><a href="#extensions"> Extension</a></b></td>
<td><span>Таблица </span><span style="FONT-FAMILY: Verdana; FONT-VARIANT: normal; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; FLOAT: none; COLOR: rgb(0,0,0); FONT-STYLE: normal; TEXT-ALIGN: left; WIDOWS: 1; DISPLAY: inline !important; LETTER-SPACING: normal; LINE-HEIGHT: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">дополнительных реквизитов</span></td></tr></tbody></table><a name="alcoholtareopening"></a>
<h5>Секция документов вскрытия алкогольной тары (AlcoholTareOpenings)</h5>
<table id="table88" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="3" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="11" width="11%">AlcoholTareOpening</td></tr><tr><td colspan="2" width="22%">Date</td>
<td>Да</td>
<td>string</td>
<td>Дата документа</td></tr><tr><td colspan="2" width="17%">Number</td>
<td>Да</td>
<td>string</td>
<td>Номер документа</td></tr><tr><td colspan="2" width="17%">UUID</td>
<td>Нет</td>
<td>string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> документа</td></tr><tr><td colspan="2" width="17%">&lt;Goods&gt;</td>
<td>Да</td>
<td>Список элементов Good</td>
<td>Список алкогольной продукции</td></tr><tr><td rowspan="6" width="5%">Good</td>
<td width="17%">Code</td>
<td>Да</td>
<td>string</td>
<td>Код, идентификатор товара</td></tr><tr><td width="5%">Quantity</td>
<td>Да</td>
<td>decimal</td>
<td>Количество вскрытых тар</td></tr><tr><td width="115">AlcoholExciseStamp</td>
<td>Нет</td>
<td>string</td>
<td>Строка, закодированная в штрихкоде PDF417 акцизной или спец. марки алкогольной продукции</td></tr><tr><td width="115">GoodUUID</td>
<td>Нет</td>
<td>string</td>
<td>Уникальный идентификатор товара</td></tr><tr><td width="115">CharacteristicUUID</td>
<td>Нет</td>
<td>string</td>
<td>Уникальный идентификатор характеристики</td></tr><tr><td width="115">PackUUID</td>
<td>Нет</td>
<td>string</td>
<td>Уникальный идентификатор упаковки</td></tr></tbody></table><h2>Общие таблицы</h2><a name="payment"></a>
<h5>Секция оплат (Payments)</h5>
<table id="table72" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="9">Payment</td></tr><tr><td width="17%"><span>Cash</span></td>
<td>Да</td>
<td><span>decimal</span></td>
<td><span>Сумма оплаты наличными денежными средствами</span></td></tr><tr><td width="230"><span>ElectronicPayment</span></td>
<td>Да</td>
<td><span>decimal</span></td>
<td><span>Сумма оплаты электронными средствами платежа</span></td></tr><tr><td width="230"><span>PrePayment</span></td>
<td>Да</td>
<td><span>decimal</span></td>
<td><span>Сумма зачтенной предоплаты или аванса</span></td></tr><tr><td width="230">PostPayment</td>
<td>Да</td>
<td><span>decimal</span></td>
<td><span>Сумма оплаты в кредит (постоплаты)</span></td></tr><tr><td width="230">Barter</td>
<td>Да</td>
<td><span>decimal</span></td>
<td><span>Сумма оплаты встречным предоставлением</span></td></tr><tr><td width="230">ElectronicPaymentOptionCode</td>
<td>Нет</td>
<td>string</td>
<td>Код вида <span>электронной </span>оплаты<br>См. секцию видов электронной оплаты</td></tr><tr><td width="230">ElectronicPaymentOptionUUID</td>
<td>Нет</td>
<td>string</td>
<td>Уникальный идентификатор вида <span>электронной </span>оплаты<br>См. секцию видов электронной оплаты</td></tr><tr><td width="230">&lt;Extensions&gt;</td>
<td>Нет</td>
<td>список элементов<b> <a href="#extensions">Extension</a></b></td>
<td>Таблица <span>дополнительных реквизитов</span></td></tr></tbody></table><h5>Секция дополнительных реквизитов (Extensions)</h5>
<table id="table93" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td rowspan="5">Extension</td></tr><tr><td width="17%"><span>Name</span></td>
<td>Да</td>
<td>string</td>
<td>Наименование реквизита</td></tr><tr><td width="230"><span>Value</span></td>
<td>Да</td>
<td>string</td>
<td><span>Значение реквизита</span></td></tr><tr><td width="230">ValueType</td>
<td>Да</td>
<td>string</td>
<td>Тип значения:<br>“String“, “Number“, “Boolean”</td></tr><tr><td width="230">UUID</td>
<td>Нет</td>
<td>string</td>
<td>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> дополнительного реквизита</td></tr></tbody></table><a href="#lookup"></a>
<h2>Справочные таблицы</h2>
<h5>Системы налогообложения</h5><a name="taxvariant"></a>
<table id="table92" class="withBorder" width="40%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="15%">Код</th>
<th width="85%">Описание</th></tr><tr><td style="TEXT-ALIGN: center">0</td>
<td>Общая</td></tr><tr><td style="TEXT-ALIGN: center">1</td>
<td>Упрощенная (Доход)</td></tr><tr><td style="TEXT-ALIGN: center">2</td>
<td>Упрощенная (Доход минус Расход)</td></tr><tr><td style="TEXT-ALIGN: center">3</td>
<td>Единый налог на вмененный доход</td></tr><tr><td style="TEXT-ALIGN: center">4</td>
<td>Единый сельскохозяйственный налог</td></tr><tr><td style="TEXT-ALIGN: center">5</td>
<td>Патентная система налогообложения</td></tr></tbody></table><a name="signmethodcalculation"></a>
<h5>Признаки способа расчета</h5>
<table id="table89" class="withBorder" width="40%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="15%">Код</th>
<th width="85%">Описание</th></tr><tr><td style="TEXT-ALIGN: center">1</td>
<td>Предоплата полная</td></tr><tr><td style="TEXT-ALIGN: center">2</td>
<td>Предоплата частичная</td></tr><tr><td style="TEXT-ALIGN: center">3</td>
<td>Аванс</td></tr><tr><td style="TEXT-ALIGN: center">4</td>
<td>Полный расчет</td></tr><tr><td style="TEXT-ALIGN: center">5</td>
<td>Частичный расчет и кредит</td></tr><tr><td style="TEXT-ALIGN: center">6</td>
<td>Передача в кредит</td></tr><tr><td style="TEXT-ALIGN: center">7</td>
<td>Оплата кредита</td></tr></tbody></table><a name="signcalculationobject"></a>
<h5>Признаки предмета расчета</h5>
<table id="table90" class="withBorder" width="40%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="15%">Код</th>
<th width="85%">Описание</th></tr><tr><td style="TEXT-ALIGN: center">1</td>
<td>Товар</td></tr><tr><td style="TEXT-ALIGN: center">2</td>
<td>Подакцизный товар</td></tr><tr><td style="TEXT-ALIGN: center">3</td>
<td>Работа</td></tr><tr><td style="TEXT-ALIGN: center">4</td>
<td>Услуга</td></tr><tr><td style="TEXT-ALIGN: center">5</td>
<td>Ставка азартной игры</td></tr><tr><td style="TEXT-ALIGN: center">6</td>
<td>Выигрыш азартной игры</td></tr><tr><td style="TEXT-ALIGN: center">7</td>
<td>Лотерейный билет</td></tr><tr><td style="TEXT-ALIGN: center">8</td>
<td>Выигрыш лотереи</td></tr><tr><td style="TEXT-ALIGN: center">9</td>
<td>Предоставление результатов интеллектуальной деятельности</td></tr><tr><td style="TEXT-ALIGN: center">10</td>
<td>Платеж, выплата</td></tr><tr><td style="TEXT-ALIGN: center">11</td>
<td>Агентское вознаграждение</td></tr><tr><td style="TEXT-ALIGN: center">12</td>
<td>Составной предмет расчета</td></tr><tr><td style="TEXT-ALIGN: center">13</td>
<td>Иной предмет расчета</td></tr></tbody></table><a name="signsubjectcalculationagent"></a>
<h5>Признаки агента по предмету расчета</h5>
<table id="table91" class="withBorder" width="40%"><tbody><tr><th width="15%">Код</th>
<th width="83%">Описание</th></tr><tr><td style="TEXT-ALIGN: center">0</td>
<td>Банковский платежный агент</td></tr><tr><td style="TEXT-ALIGN: center" height="21">1</td>
<td height="21">Банковский платежный субагент</td></tr><tr><td style="TEXT-ALIGN: center">2</td>
<td>Платежный агент</td></tr><tr><td style="TEXT-ALIGN: center">3</td>
<td>Платежный субагент</td></tr><tr><td style="TEXT-ALIGN: center">4</td>
<td>Поверенный</td></tr><tr><td style="TEXT-ALIGN: center">5</td>
<td>Комиссионер</td></tr><tr><td style="TEXT-ALIGN: center">6</td>
<td>Агент</td></tr></tbody></table><a name="extensions"></a><a name="chapter501"></a>
<h2>Подключение программно-аппаратных комплексов с помощью web-сервиса "EquipmentService"</h2>
<p>Библиотека поддерживает обмен со сторонними программно-аппаратными комплексами различного назначения с помощью web-сервиса. <br>Для осуществления обмена необходимо опубликовать<span>&nbsp;</span>web-сервис<span>&nbsp;</span><b>"EquipmentService"<span>&nbsp;</span></b>входящий в состав библиотеки.<span>&nbsp;</span></p><b>Тип офлайн оборудования: ККМ</b><br><br>Требования поддержки методов:<br><br><table id="table102" class="withBorder" width="50%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="30%">Имя метода</th>
<th width="20%">Обязательно </th>
<th width="50%">Примечание</th></tr><tr><td>Connect </td>
<td style="TEXT-ALIGN: center">Да</td>
<td>&nbsp; </td></tr><tr><td>GetVersion </td>
<td style="TEXT-ALIGN: center">Да</td>
<td>&nbsp; </td></tr><tr><td>GetSettings </td>
<td style="TEXT-ALIGN: center">Нет</td>
<td>&nbsp; </td></tr><tr><td>GetPriceList или <br>PreparePriceList<br>GetPriceListPackage </td>
<td style="TEXT-ALIGN: center">Да</td>
<td>Рекомендуется использовать метод PreparePriceList и GetPriceListPackage </td></tr><tr><td>GetDocs</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td>Если на ККМ поддерживаются заказы клиентов (Order)</td></tr><tr><td>PostDocs </td>
<td style="TEXT-ALIGN: center">Да</td>
<td>Тип документа SaleReport - обязательно </td></tr></tbody></table><h5>Тип офлайн оборудования: Прайс-чекер</h5>
<p>Требования поддержки методов: </p>
<p></p>
<table id="table103" class="withBorder" width="50%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="32%">Имя метода</th>
<th width="16%">Обязательно </th>
<th width="50%">Примечание</th></tr><tr><td>Connect </td>
<td style="TEXT-ALIGN: center">Да</td>
<td>&nbsp; </td></tr><tr><td>GetVersion </td>
<td style="TEXT-ALIGN: center">Да</td>
<td>&nbsp; </td></tr><tr><td>GetPriceList <i>или</i> PreparePriceList<br>GetPriceListPackage <i>или</i> GetGood </td>
<td style="TEXT-ALIGN: center">Да</td>
<td>Рекомендуется использовать метод PreparePriceList и GetPriceListPackage или GetGood </td></tr><tr><td>PostDocs </td>
<td style="TEXT-ALIGN: center">Нет</td>
<td>Тип документа PriceCheckerReport </td></tr></tbody></table><h4>Методы web-сервиса EquipmentService</h4>
<table id="table64" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th rowspan="2" width="12%">Имя метода </th>
<th colspan="3" width="32%">Параметры</th>
<th rowspan="2" width="12%">Тип возвращаемого значения</th>
<th rowspan="2" width="43%">Описание метода</th></tr><tr><th width="9%">Имя</th>
<th width="8%">Тип</th>
<th width="15%">Описание</th></tr><tr><td width="12%">Connect</td>
<td width="9%">DeviceID</td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="12%">boolean </td>
<td width="43%">Проверка регистрации оборудования в ИБ по уникальному идентификатору оборудования</td></tr><tr><td width="12%">GetVersion</td>
<td width="9%"><span>DeviceID</span></td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="12%">int </td>
<td width="43%">Получение версии формата обмена. В формате возвращенной версии должен производиться обмен данными</td></tr><tr><td width="12%">GetSettings</td>
<td width="9%">DeviceID </td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Идентификатор устройства </td>
<td style="TEXT-ALIGN: center" width="12%"><a href="#settings">Settings</a> </td>
<td width="43%">Получение настроек для оборудования.&nbsp;<br>Возвращается структура в XML, в соответствии с описанием секции Settings</td></tr><tr><td width="12%">GetPriceList</td>
<td width="9%"><span>DeviceID</span></td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="12%"><a href="#pricelist">PriceList</a> </td>
<td width="43%">Получение списка товаров и цен для оборудования.&nbsp;<br>Возвращается структура в XML, в соответствии с описанием секции PriceList</td></tr><tr><td width="12%">PreparePriceList</td>
<td width="9%">DeviceID</td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" width="12%">UUID</td>
<td width="43%">Возвращается идентификатор передачи (TransferID), 
который в последующем должен использоваться при вызове метода 
GetPriceListPackage</td></tr><tr><td rowspan="3" width="12%">GetPriceListPackage</td>
<td width="9%">DeviceID</td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="3" width="12%"><a href="#pricelistpackage">PriceListPackage</a></td>
<td rowspan="3" width="43%">Возвращает пакет прайс-листа. Если в пакете 
ответа элемент IsFormed = Ложь, значит подготовка пакетов на стороне 
сервера еще не завершилась.<br>Если признак перезапуска <span style="FONT-SIZE: 9.5pt">Restart</span> = Истина, то очередь пакетов по переданному <span style="FONT-SIZE: 9.5pt">TransferID сбросится и выгрузка начнется с первого пакета прайс-листа.</span></td></tr><tr><td width="9%">TransferID</td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Идентификатор передачи</td></tr><tr><td width="9%">Restart</td>
<td style="TEXT-ALIGN: center" width="8%">boolean</td>
<td width="15%">Признак перезапуска выгрузки</td></tr><tr><td rowspan="3" width="12%">PostDocs</td>
<td width="9%">DeviceID</td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="3" width="12%"><a href="#postdocsresponse">PostDocsResponse</a> </td>
<td rowspan="3" width="43%">Передача от устройства документа в конфигурацию 1С.<br>См. описание <a href="#postdocs">PostDocs</a>&lt;</td></tr><tr><td width="9%">DocType</td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Тип документа</td></tr><tr><td width="9%">Document</td>
<td style="TEXT-ALIGN: center" width="8%">string </td>
<td width="15%">Данные документа в XML</td></tr><tr><td rowspan="2" width="12%">GetDocs</td>
<td width="9%"><span>DeviceID</span></td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="12%">См. описание <a href="#getdocs">GetDocs</a> 
<p></p></td>
<td rowspan="2" width="43%">Получение из конфигурации 1С документов определенного типа (DocType).<br>Тип возвращаемого значения зависит от переданного типа документа.<br></td></tr><tr><td width="9%">DocType</td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Тип документа</td></tr><tr><td rowspan="2" width="12%">GetGood</td>
<td width="9%">DeviceID</td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Идентификатор устройства</td>
<td style="TEXT-ALIGN: center" rowspan="2" width="12%"><a href="#pricelist">PriceList</a> 
<p></p></td>
<td rowspan="2" width="43%">Прайс-лист с отбором по штрихкоду</td></tr><tr><td width="9%">Barсode</td>
<td style="TEXT-ALIGN: center" width="8%">string</td>
<td width="15%">Штрихкод</td></tr></tbody></table><a name="doctype"></a><br>Идентификатор устройства (<span>DeviceID) указывается при настройке оборудования в конфигурации 1С.</span> <a name="postdocs"></a><br><h5>Метод PostDocs</h5>
<table id="table112" class="withBorder" width="50%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="30%"><span>DocType</span></th>
<th width="20%"><span>Document</span></th>
<th width="50%">Примечание</th></tr><tr><td>SaleReport </td>
<td style="TEXT-ALIGN: center"><font face="Verdana"><a href="#salereport">SaleReports</a></font></td>
<td>Передача отчетов о розничных продажах </td></tr><tr><td>AlcoholTareOpening </td>
<td style="TEXT-ALIGN: center"><a href="#alcoholtareopening">AlcoholTareOpenings</a></td>
<td>Передача данных о вскрытиях алкогольной тары </td></tr><tr><td>PriceCheckerReport</td>
<td style="TEXT-ALIGN: center"><a href="#pricecheckerreport">PriceCheckerReports</a></td>
<td>Передача отчетов прайс-чекера </td></tr></tbody></table><a name="getdocs"></a>
<h5>Метод GetDocs</h5>
<table id="table113" class="withBorder" width="50%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="30%">DocType</th>
<th width="20%">Возвращаемый тип</th>
<th width="50%">Примечание</th></tr><tr><td>Order</td>
<td>
<p style="TEXT-ALIGN: center"><a href="#orders">Orders</a></p></td>
<td>Получение заказов</td></tr></tbody></table><a name="pricelistpackage"></a>
<h5>Пакет прайс-листа (PriceListPackage)</h5>
<table id="table110" class="withBorder" width="50%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="16%">Наименование атрибута</th>
<th width="19%">Обязательное наличие в структуре</th>
<th width="21%">Типы данных</th>
<th width="31%">Описание атрибута</th></tr><tr><td>IsFormed</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак успешного формирования пакета</td></tr><tr><td>PackageNumber</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">int</td>
<td>Номер пакета</td></tr><tr><td>PackageTotal</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">int</td>
<td>Количество пакетов всего</td></tr><tr><td>PriceList</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center"><a style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(204,0,0)" href="#pricelist">PriceList</a></td>
<td>Данные прайс-листа</td></tr></tbody></table><br><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a> 
<p class="Programtext">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;PriceListPackage
 xmlns="http://www.1c.ru/EquipmentService/2.0.0.3" 
xmlns:xs="http://www.w3.org/2001/XMLSchema" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" PackageTotal="2" 
PackageNumber="1"&gt;<br>&nbsp;&nbsp;&nbsp; &lt;IsFormed&gt;true&lt;/IsFormed&gt;<br>&nbsp;&nbsp;&nbsp; &lt;PriceList&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br>&nbsp;&nbsp;&nbsp; &lt;/PriceList&gt;<br>&lt;/PriceListPackage&gt;</p><a name="postdocsresponse"></a><a name="pricecheckerreport"></a>
<h5>Секция отчетов прайс-чекера (PriceCheckerReports)</h5>
<p>Элемент PriceCheckerReport:</p>
<table id="table114" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th colspan="2" width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td colspan="2">Number</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Номер отчета</td></tr><tr><td colspan="2">Date</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">datetime</td>
<td>Дата отчета</td></tr><tr><td colspan="2">UUID</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td><span>Уникальный идентификатор <a href="https://ru.wikipedia.org/wiki/UUID" target="_blank">UUID</a> отчета</span></td></tr><tr><td colspan="2">&lt;Goods&gt;</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">список элементов<br>Good</td>
<td>Список товаров</td></tr><tr><td rowspan="5">Good</td>
<td width="17%">Code</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Код, идентификатор товарной позиции</td></tr><tr><td width="17%">Barcode</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Штрихкод товара</td></tr><tr><td width="17%">GoodUUID</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Уникальный идентификатор товара</td></tr><tr><td width="17%">CharacteristicUUID</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Уникальный идентификатор характеристики</td></tr><tr><td width="17%">PackUUID</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Уникальный идентификатор упаковки</td></tr></tbody></table><br><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a> 
<p class="Programtext">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;PriceCheckerReports
 xmlns="http://www.1c.ru/EquipmentService/2.0.0.3" 
xmlns:xs="http://www.w3.org/2001/XMLSchema" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;<br>&nbsp;&nbsp;&nbsp;
 &lt;PriceCheckerReport Date="2017-09-11T12:00:00" Number="505" 
UUID="986cb877-1272-4d15-ada7-692473a40717"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Goods&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 &lt;Good Code="100" Barcode="2100020307795" 
GoodUUID="1918351e-9327-445e-a648-893700731916"/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/Goods&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/PriceCheckerReport&gt;<br>&lt;/PriceCheckerReports&gt;</p>
<h5>Ответ отправки документа (PostDocsResponse)</h5>
<table id="table111" class="withBorder" width="90%" cellspacing="0" cellpadding="3" border="0"><tbody><tr><th width="33%">Наименование атрибута</th>
<th width="12%">Обязательное наличие в структуре</th>
<th width="16%">Типы данных</th>
<th width="39%">Описание атрибута</th></tr><tr><td>IsSuccess</td>
<td style="TEXT-ALIGN: center">Да</td>
<td style="TEXT-ALIGN: center">boolean</td>
<td>Признак успешного получения данных</td></tr><tr><td>Description</td>
<td style="TEXT-ALIGN: center">Нет</td>
<td style="TEXT-ALIGN: center">string</td>
<td>Описание от принимающей стороны</td></tr></tbody></table><br><a onclick="copySource(this); return false;" title="#" class="cbData" href="javascript:">Копировать в буфер обмена</a> 
<p class="Programtext">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;PostDocsResponse
 xmlns="http://www.1c.ru/EquipmentService/2.0.0.3" 
xmlns:xs="http://www.w3.org/2001/XMLSchema" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;<br>&nbsp;&nbsp;&nbsp; &lt;IsSuccess&gt;true&lt;/IsSuccess&gt;<br>&nbsp;&nbsp;&nbsp; &lt;Description&gt;Данные успешно загружены&lt;/Description&gt;<br>&lt;/PostDocsResponse&gt;</p><div id="global-zeroclipboard-html-bridge" class="global-zeroclipboard-container" style="position: absolute; left: 0px; top: -9999px; width: 1px; height: 1px; z-index: 999999999;"><object id="global-zeroclipboard-flash-bridge" name="global-zeroclipboard-flash-bridge" type="application/x-shockwave-flash" data="1c2.4_files/zeroclipboard.swf" width="100%" height="100%"><param name="allowScriptAccess" value="sameDomain"><param name="allowNetworking" value="all"><param name="menu" value="false"><param name="wmode" value="transparent"><param name="flashvars" value="trustedOrigins=its.1c.ru%2C%2F%2Fits.1c.ru%2Chttps%3A%2F%2Fits.1c.ru&amp;swfObjectId=global-zeroclipboard-flash-bridge&amp;jsVersion=2.2.0"><div id="global-zeroclipboard-flash-bridge_fallbackContent">&nbsp;</div></object></div></body></html>